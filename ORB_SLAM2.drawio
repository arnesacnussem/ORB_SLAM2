<mxfile host="app.diagrams.net" modified="2024-06-12T10:14:53.720Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/125.0.0.0 Safari/537.36 Edg/125.0.0.0" etag="mQxIXZm1CPcHIL38hWj9" version="24.4.3" type="google" pages="14">
  <diagram id="Zna1pg1syEr-Q3HothQa" name="查找可以用于初始化的点">
    <mxGraphModel dx="2044" dy="591" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="KGZs2B6m9ob6LZXt_sZy-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="KGZs2B6m9ob6LZXt_sZy-1" target="KGZs2B6m9ob6LZXt_sZy-5" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="55" y="185" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KGZs2B6m9ob6LZXt_sZy-1" value="输入&lt;br&gt;第一帧&lt;br&gt;第二帧&lt;br&gt;前次匹配（关键点）&lt;br&gt;第一帧中的关键点到第二帧中的关键点的映射（Map&amp;lt;F1kp, F2kp&amp;gt;)&lt;br&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;窗口大小&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=center;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="-126.25" width="362.49" height="90" as="geometry" />
        </mxCell>
        <mxCell id="KGZs2B6m9ob6LZXt_sZy-7" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="KGZs2B6m9ob6LZXt_sZy-5" target="KGZs2B6m9ob6LZXt_sZy-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KGZs2B6m9ob6LZXt_sZy-5" value="筛选关键DIAN：&lt;br&gt;&lt;br&gt;以图一中第零层（原图）中提取的关键点为原点（d1)&lt;br&gt;在窗口大小范围内查找图二中的关键帧(d2s[])" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-90" y="120" width="290" height="80" as="geometry" />
        </mxCell>
        <mxCell id="KGZs2B6m9ob6LZXt_sZy-9" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="KGZs2B6m9ob6LZXt_sZy-6" target="KGZs2B6m9ob6LZXt_sZy-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KGZs2B6m9ob6LZXt_sZy-6" value="遍历d2s与d1比较汉明距离（相似度）&lt;br&gt;排除距离大于阈值TH_LOW（50）的点" style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-54.38" y="230" width="218.75" height="40" as="geometry" />
        </mxCell>
        <mxCell id="KGZs2B6m9ob6LZXt_sZy-11" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="KGZs2B6m9ob6LZXt_sZy-8" target="KGZs2B6m9ob6LZXt_sZy-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KGZs2B6m9ob6LZXt_sZy-8" value="选取相似度最高（汉明距离最小）的两个点作为候选点" style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-108.75" y="300" width="327.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KGZs2B6m9ob6LZXt_sZy-13" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="KGZs2B6m9ob6LZXt_sZy-10" target="KGZs2B6m9ob6LZXt_sZy-12" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-180" y="400" />
              <mxPoint x="-180" y="1160" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="KGZs2B6m9ob6LZXt_sZy-17" value="最优点未满足该条件" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="KGZs2B6m9ob6LZXt_sZy-13" vertex="1" connectable="0">
          <mxGeometry x="0.0006" relative="1" as="geometry">
            <mxPoint x="-20" y="-345" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KGZs2B6m9ob6LZXt_sZy-15" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="KGZs2B6m9ob6LZXt_sZy-10" target="KGZs2B6m9ob6LZXt_sZy-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KGZs2B6m9ob6LZXt_sZy-16" value="最优点满足该条件时" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="KGZs2B6m9ob6LZXt_sZy-15" vertex="1" connectable="0">
          <mxGeometry x="-0.3913" y="1" relative="1" as="geometry">
            <mxPoint x="15" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KGZs2B6m9ob6LZXt_sZy-10" value="bestDist&amp;lt;(float)bestDist2*mfNNratio（当前mfNNratio=0.9)&lt;br&gt;我觉得这行是为了缩小最优和次优的距离汉明距离的&lt;br&gt;这样它就可以排除模糊导致的小范围内多个关键点了&lt;br&gt;&lt;br&gt;最佳距离比次佳距离要小于设定的比例，这样特征点辨识度更高" style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-133.76" y="360" width="377.51" height="80" as="geometry" />
        </mxCell>
        <mxCell id="KGZs2B6m9ob6LZXt_sZy-29" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="KGZs2B6m9ob6LZXt_sZy-12" target="KGZs2B6m9ob6LZXt_sZy-28" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KGZs2B6m9ob6LZXt_sZy-12" value="逻辑在这里汇合而已" style="whiteSpace=wrap;html=1;rounded=0;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="-5.0049999999999955" y="1130" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="KGZs2B6m9ob6LZXt_sZy-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="KGZs2B6m9ob6LZXt_sZy-14" target="KGZs2B6m9ob6LZXt_sZy-19" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KGZs2B6m9ob6LZXt_sZy-25" value="要求检查旋转&lt;br&gt;（初始化时100%要求检查旋转）" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="KGZs2B6m9ob6LZXt_sZy-23" vertex="1" connectable="0">
          <mxGeometry x="-0.1156" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KGZs2B6m9ob6LZXt_sZy-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;dashed=1;dashPattern=8 8;" parent="1" source="KGZs2B6m9ob6LZXt_sZy-14" target="KGZs2B6m9ob6LZXt_sZy-12" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="290" y="615" />
              <mxPoint x="290" y="1160" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="KGZs2B6m9ob6LZXt_sZy-27" value="不要求检查旋转时走这&lt;br&gt;初始化的时候并不会走这里&lt;br&gt;不知道为啥要判断下" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="KGZs2B6m9ob6LZXt_sZy-26" vertex="1" connectable="0">
          <mxGeometry x="-0.1005" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KGZs2B6m9ob6LZXt_sZy-14" value="1. 保存d1和d2的索引&lt;br&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;2. 保存d1和d2的距离&lt;/span&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;align=center;" parent="1" vertex="1">
          <mxGeometry x="-5.0049999999999955" y="585" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="KGZs2B6m9ob6LZXt_sZy-31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="KGZs2B6m9ob6LZXt_sZy-19" target="KGZs2B6m9ob6LZXt_sZy-43" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="55.0344827586207" y="870" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KGZs2B6m9ob6LZXt_sZy-19" value="1. 计算FAST旋转角度差(rot)&lt;br&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;2. rot*factor取整得到该点在直方图的第几个bin&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;3. 把点的位置记录到直方图下标为bin的数组里&lt;/span&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=left;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-75.62" y="730" width="261.25" height="80" as="geometry" />
        </mxCell>
        <mxCell id="KGZs2B6m9ob6LZXt_sZy-52" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;" parent="1" source="KGZs2B6m9ob6LZXt_sZy-28" target="KGZs2B6m9ob6LZXt_sZy-51" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KGZs2B6m9ob6LZXt_sZy-54" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="KGZs2B6m9ob6LZXt_sZy-28" target="KGZs2B6m9ob6LZXt_sZy-53" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KGZs2B6m9ob6LZXt_sZy-28" value="更新‘前次匹配的点’并返回匹配的点数量" style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-102.51" y="1270" width="315.01" height="60" as="geometry" />
        </mxCell>
        <mxCell id="KGZs2B6m9ob6LZXt_sZy-34" value="" style="endArrow=none;dashed=1;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-270" y="100" as="sourcePoint" />
            <mxPoint x="246.24" y="100" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KGZs2B6m9ob6LZXt_sZy-36" value="第一步：过滤要查找的点" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="KGZs2B6m9ob6LZXt_sZy-34" vertex="1" connectable="0">
          <mxGeometry x="-0.7344" y="1" relative="1" as="geometry">
            <mxPoint x="-8" y="11" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KGZs2B6m9ob6LZXt_sZy-37" value="" style="endArrow=none;dashed=1;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-260" y="280" as="sourcePoint" />
            <mxPoint x="256.24" y="280" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KGZs2B6m9ob6LZXt_sZy-38" value="第二步：搜索BRIEF相似的点对" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="KGZs2B6m9ob6LZXt_sZy-37" vertex="1" connectable="0">
          <mxGeometry x="-0.7344" y="1" relative="1" as="geometry">
            <mxPoint x="2" y="11" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KGZs2B6m9ob6LZXt_sZy-39" value="" style="endArrow=none;dashed=1;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-250" y="530" as="sourcePoint" />
            <mxPoint x="266.24" y="530" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KGZs2B6m9ob6LZXt_sZy-40" value="第三步：计算点对旋转角度的直方图" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="KGZs2B6m9ob6LZXt_sZy-39" vertex="1" connectable="0">
          <mxGeometry x="-0.7344" y="1" relative="1" as="geometry">
            <mxPoint x="22" y="11" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KGZs2B6m9ob6LZXt_sZy-41" value="" style="endArrow=none;dashed=1;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-272.49" y="830" as="sourcePoint" />
            <mxPoint x="243.75" y="830" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KGZs2B6m9ob6LZXt_sZy-42" value="第四步：剔除不能代表画面的旋转方向的匹配点" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="KGZs2B6m9ob6LZXt_sZy-41" vertex="1" connectable="0">
          <mxGeometry x="-0.7344" y="1" relative="1" as="geometry">
            <mxPoint x="44" y="11" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KGZs2B6m9ob6LZXt_sZy-46" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="KGZs2B6m9ob6LZXt_sZy-43" target="KGZs2B6m9ob6LZXt_sZy-45" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KGZs2B6m9ob6LZXt_sZy-43" value="遍历直方图每一个bin,但是跳过之前三个值最多的bin&lt;br&gt;因为它们能代表主要画面的旋转方向" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-88.75" y="870" width="287.51" height="40" as="geometry" />
        </mxCell>
        <mxCell id="KGZs2B6m9ob6LZXt_sZy-48" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="KGZs2B6m9ob6LZXt_sZy-45" target="KGZs2B6m9ob6LZXt_sZy-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KGZs2B6m9ob6LZXt_sZy-45" value="从匹配结果中删掉其余的点对信息" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-57.51" y="950" width="225" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KGZs2B6m9ob6LZXt_sZy-49" value="" style="endArrow=none;dashed=1;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-272.49" y="1230" as="sourcePoint" />
            <mxPoint x="243.75" y="1230" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KGZs2B6m9ob6LZXt_sZy-50" value="第五步：保存匹配的点并返回匹配的点数量" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="KGZs2B6m9ob6LZXt_sZy-49" vertex="1" connectable="0">
          <mxGeometry x="-0.7344" y="1" relative="1" as="geometry">
            <mxPoint x="44" y="11" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KGZs2B6m9ob6LZXt_sZy-51" value="记录图一二中关键点映射到vbPrevMatched" style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="290" y="1270" width="220.01" height="60" as="geometry" />
        </mxCell>
        <mxCell id="KGZs2B6m9ob6LZXt_sZy-53" value="返回匹配点的数量" style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-5.00500000000001" y="1410" width="120" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="GgXZyBEcIRX4ej0pfAU6" name="使用参数进行初始化">
    <mxGraphModel grid="1" page="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" pageScale="1" pageWidth="827" pageHeight="1169" math="1" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="9PKdKvoF2Fm4P4-F3FBB-1" value="" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="181" y="350" width="492" height="350" as="geometry" />
        </mxCell>
        <mxCell id="qxeEJ8WlhAHfGf8AdMdk-2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="TSAWa0QXM_vLrnYjIfEB-1" target="qxeEJ8WlhAHfGf8AdMdk-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="TSAWa0QXM_vLrnYjIfEB-1" value="&lt;div&gt;mpInitializer-&amp;gt;Initialize()&lt;br&gt;&lt;/div&gt;当前帧&lt;br&gt;初始化匹配结果&lt;br&gt;Rcw 相机旋转矩阵&lt;br&gt;tcw 相机位移矩阵&lt;br&gt;mvIniP3D 三维点云&lt;br&gt;vbTriangulated 成功三角化的点" style="whiteSpace=wrap;html=1;align=center;horizontal=1;verticalAlign=top;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="263" y="60" width="300" height="110" as="geometry" />
        </mxCell>
        <mxCell id="xAJfOw0k_jFazPzEEgKs-2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="qxeEJ8WlhAHfGf8AdMdk-1" target="xAJfOw0k_jFazPzEEgKs-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="qxeEJ8WlhAHfGf8AdMdk-1" value="遍历vMatches12(图1中关键点在图2中的匹配、初始化匹配结果)&lt;br&gt;如果有匹配则添加到mvMatches12中并设置flag(mvbMatched1)&lt;br&gt;这一步应该是清理结果中未匹配到的点，以便后续使用" style="whiteSpace=wrap;html=1;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="223" y="210" width="380" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xAJfOw0k_jFazPzEEgKs-4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="xAJfOw0k_jFazPzEEgKs-1" target="xAJfOw0k_jFazPzEEgKs-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xAJfOw0k_jFazPzEEgKs-1" value="记录N=匹配到的点数量&lt;br&gt;并创建一个内容为0..(N-1)的数组vAllIndices" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="288.625" y="300" width="248.75" height="40" as="geometry" />
        </mxCell>
        <mxCell id="xAJfOw0k_jFazPzEEgKs-6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="xAJfOw0k_jFazPzEEgKs-3" target="xAJfOw0k_jFazPzEEgKs-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zaoTA45oqnfUPlISrXtl-4" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="xAJfOw0k_jFazPzEEgKs-5" target="zaoTA45oqnfUPlISrXtl-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xAJfOw0k_jFazPzEEgKs-3" value="创建个二维数组mvSets用来存RANSAC迭代&lt;div&gt;shape=(mMaxIterations=200,8)&lt;/div&gt;" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="285.25" y="370" width="255.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="xAJfOw0k_jFazPzEEgKs-5" value="设置个随机数种子" style="whiteSpace=wrap;html=1;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="353" y="430" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="zaoTA45oqnfUPlISrXtl-8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="zaoTA45oqnfUPlISrXtl-3" target="zaoTA45oqnfUPlISrXtl-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zaoTA45oqnfUPlISrXtl-3" value="打乱range(0...7)以创建RANSAC迭代使用的数据&lt;div&gt;执行mMaxIterations=200次&lt;/div&gt;" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="221.75" y="480" width="382.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="kpq3J_6veMhd-plaaJt--2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="zaoTA45oqnfUPlISrXtl-7" target="kpq3J_6veMhd-plaaJt--1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="301" y="660" />
              <mxPoint x="301" y="690" />
              <mxPoint x="413" y="690" />
            </Array>
          </mxGeometry>
        </mxCell>
        <UserObject label="FindHomography&lt;div&gt;score: \(S_H\)&lt;/div&gt;" link="data:page/id,eGk2S7Va283MtGseAvHp" id="zaoTA45oqnfUPlISrXtl-7">
          <mxCell style="whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
            <mxGeometry x="233" y="600" width="120" height="60" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="kpq3J_6veMhd-plaaJt--3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="MvpxITq1D1TTZtllLFGb-1" target="kpq3J_6veMhd-plaaJt--1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <UserObject label="FindFundamental&lt;div&gt;score: \(S_F\)&lt;br&gt;&lt;/div&gt;" link="data:page/id,yl35L6kg3eYYp96YjXPv" id="MvpxITq1D1TTZtllLFGb-1">
          <mxCell style="whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
            <mxGeometry x="473" y="600" width="120" height="60" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="MvpxITq1D1TTZtllLFGb-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="zaoTA45oqnfUPlISrXtl-3" target="MvpxITq1D1TTZtllLFGb-1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="424" y="530" as="sourcePoint" />
            <mxPoint x="293" y="590" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xv0-iKG5emcxXvxn6ZjE-2" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="kpq3J_6veMhd-plaaJt--1" target="xv0-iKG5emcxXvxn6ZjE-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kpq3J_6veMhd-plaaJt--1" value="计算置信度&#xa;\(R=S_H/(S_H+S_F)\)" style="whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="308" y="720" width="210" height="40" as="geometry" />
        </mxCell>
        <mxCell id="zjlW_-P_1ItnkUCdQd20-2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="xv0-iKG5emcxXvxn6ZjE-1" target="zjlW_-P_1ItnkUCdQd20-3">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="315" y="970" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="k5tuz3bb94qEK7UcHpPG-1" value="R &amp;gt; 0.4" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" connectable="0" vertex="1" parent="zjlW_-P_1ItnkUCdQd20-2">
          <mxGeometry x="0.3552" y="-1" relative="1" as="geometry">
            <mxPoint x="23" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zjlW_-P_1ItnkUCdQd20-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="xv0-iKG5emcxXvxn6ZjE-1" target="zjlW_-P_1ItnkUCdQd20-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="k5tuz3bb94qEK7UcHpPG-2" value="else" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" connectable="0" vertex="1" parent="zjlW_-P_1ItnkUCdQd20-5">
          <mxGeometry x="0.0052" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xv0-iKG5emcxXvxn6ZjE-1" value="根据R决定选择使用Homograph还是Fundamental重建" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="234" y="800" width="358" height="60" as="geometry" />
        </mxCell>
        <mxCell id="IuVzDurwz6KELytnAoE3-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="zjlW_-P_1ItnkUCdQd20-3" target="6TxDTC-ds-RyO63Id4nb-5">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="415" y="1040" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zjlW_-P_1ItnkUCdQd20-3" value="ReconstructH" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="234" y="940" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="IuVzDurwz6KELytnAoE3-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="zjlW_-P_1ItnkUCdQd20-4" target="6TxDTC-ds-RyO63Id4nb-5">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="601" y="1080" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zjlW_-P_1ItnkUCdQd20-4" value="ReconstructF" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="472" y="940" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="uQgecxWNgdOUj00BsffL-2" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="6TxDTC-ds-RyO63Id4nb-4" target="uQgecxWNgdOUj00BsffL-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6TxDTC-ds-RyO63Id4nb-4" value="&lt;div&gt;return&lt;/div&gt;tcw, Rcw, vP3D, vbTriangulated" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="250" y="1200" width="328" height="60" as="geometry" />
        </mxCell>
        <mxCell id="6TxDTC-ds-RyO63Id4nb-6" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="6TxDTC-ds-RyO63Id4nb-5" target="6TxDTC-ds-RyO63Id4nb-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6TxDTC-ds-RyO63Id4nb-7" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" connectable="0" vertex="1" parent="6TxDTC-ds-RyO63Id4nb-6">
          <mxGeometry x="-0.327" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="6TxDTC-ds-RyO63Id4nb-9" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="6TxDTC-ds-RyO63Id4nb-5" target="6TxDTC-ds-RyO63Id4nb-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6TxDTC-ds-RyO63Id4nb-10" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" connectable="0" vertex="1" parent="6TxDTC-ds-RyO63Id4nb-9">
          <mxGeometry x="-0.156" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="6TxDTC-ds-RyO63Id4nb-5" value="success?" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="374" y="1040" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="6TxDTC-ds-RyO63Id4nb-8" value="&lt;div&gt;return&lt;/div&gt;false" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="155" y="1050" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="uQgecxWNgdOUj00BsffL-4" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="uQgecxWNgdOUj00BsffL-1" target="uQgecxWNgdOUj00BsffL-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="uQgecxWNgdOUj00BsffL-1" value="loop over vMatches12(mvIniMatches)&lt;div&gt;mark all pair not triangulated as -1 and reduce nmatches by 1&lt;/div&gt;" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="231" y="1310" width="366" height="60" as="geometry" />
        </mxCell>
        <mxCell id="uQgecxWNgdOUj00BsffL-6" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="uQgecxWNgdOUj00BsffL-3" target="uQgecxWNgdOUj00BsffL-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="uQgecxWNgdOUj00BsffL-3" value="set frame pose&#xa;initFrame.pose = cv2.eye(4, 4, CV_32F)&#xa;&#xa;$$&#xa;\text{mCurrentFrame.pose} = T_{cw} = \begin{bmatrix}&#xa;R_{cw} &amp; t_{cw} \\&#xa;0 &amp; 1 \\&#xa;\end{bmatrix}&#xa;$$&#xa;&#xa;" style="whiteSpace=wrap;verticalAlign=middle;fontFamily=Concola;spacingTop=36;" vertex="1" parent="1">
          <mxGeometry x="248" y="1400" width="332" height="100" as="geometry" />
        </mxCell>
        <UserObject label="CreateInitialMapMonocular" link="data:page/id,YIpCLxuw2_HurSQzCV06" id="uQgecxWNgdOUj00BsffL-5">
          <mxCell style="whiteSpace=wrap;html=1;fontFamily=Concola;spacingTop=0;" vertex="1" parent="1">
            <mxGeometry x="290" y="1540" width="247" height="60" as="geometry" />
          </mxCell>
        </UserObject>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="YIpCLxuw2_HurSQzCV06" name="MonocularInitialization">
    <mxGraphModel grid="1" page="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" pageScale="1" pageWidth="827" pageHeight="1169" math="1" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="coI8pJVecog2Mzk-ax_8-3" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="coI8pJVecog2Mzk-ax_8-1" target="coI8pJVecog2Mzk-ax_8-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="coI8pJVecog2Mzk-ax_8-1" value="CreateInitialMapMonocular" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry width="170" height="40" as="geometry" />
        </mxCell>
        <mxCell id="coI8pJVecog2Mzk-ax_8-5" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="coI8pJVecog2Mzk-ax_8-2" target="coI8pJVecog2Mzk-ax_8-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="coI8pJVecog2Mzk-ax_8-2" value="&lt;div style=&quot;font-size: 9px;&quot;&gt;&amp;nbsp; &amp;nbsp; KeyFrame* pKFini = new KeyFrame(mInitialFrame,mpMap,mpKeyFrameDB);&lt;/div&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&amp;nbsp; &amp;nbsp; KeyFrame* pKFcur = new KeyFrame(mCurrentFrame,mpMap,mpKeyFrameDB);&lt;/div&gt;" style="whiteSpace=wrap;html=1;fontFamily=Concola;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="-107.5" y="70" width="385" height="40" as="geometry" />
        </mxCell>
        <mxCell id="coI8pJVecog2Mzk-ax_8-7" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="coI8pJVecog2Mzk-ax_8-4" target="coI8pJVecog2Mzk-ax_8-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="coI8pJVecog2Mzk-ax_8-4" value="compute BoW for both KF" style="whiteSpace=wrap;html=1;fontSize=9;fontFamily=Concola;" vertex="1" parent="1">
          <mxGeometry x="-17.5" y="140" width="205" height="30" as="geometry" />
        </mxCell>
        <mxCell id="coI8pJVecog2Mzk-ax_8-9" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="coI8pJVecog2Mzk-ax_8-6" target="coI8pJVecog2Mzk-ax_8-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="coI8pJVecog2Mzk-ax_8-6" value="Insert KF in to map" style="whiteSpace=wrap;html=1;fontSize=9;fontFamily=Concola;" vertex="1" parent="1">
          <mxGeometry x="25" y="200" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="OuAHmmvRuDLqGY4zX2SP-4" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="coI8pJVecog2Mzk-ax_8-8" target="OuAHmmvRuDLqGY4zX2SP-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-49" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;dashed=1;dashPattern=8 8;" edge="1" parent="1" source="coI8pJVecog2Mzk-ax_8-8" target="vpVXF7R1RbWZok7m5yvl-47">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="coI8pJVecog2Mzk-ax_8-8" value="loop over mvMatches12 on every element that not marked as &quot;not triangulated&quot;" style="whiteSpace=wrap;html=1;fontSize=9;fontFamily=Concola;" vertex="1" parent="1">
          <mxGeometry x="-2.5" y="270" width="175" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-2" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="OuAHmmvRuDLqGY4zX2SP-3" target="vpVXF7R1RbWZok7m5yvl-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="OuAHmmvRuDLqGY4zX2SP-3" value="worldPos =&amp;nbsp;mvIniP3D[i]" style="whiteSpace=wrap;html=1;fontSize=9;fontFamily=Concola;" vertex="1" parent="1">
          <mxGeometry x="399" y="285" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-4" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="vpVXF7R1RbWZok7m5yvl-1" target="vpVXF7R1RbWZok7m5yvl-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-1" value="create map point(pMP) with worldPos and KF of current frame by&lt;br&gt;&lt;br&gt;mWorldPos = worldPos&lt;div&gt;&lt;br&gt;mNormalVector =&amp;nbsp;\(\begin{bmatrix}&lt;br&gt;0 \\&lt;br&gt;0 \\&lt;br&gt;0 \\&lt;br&gt;\end{bmatrix}\)&lt;/div&gt;" style="whiteSpace=wrap;fontSize=9;fontFamily=Concola;html=1;" vertex="1" parent="1">
          <mxGeometry x="354" y="350" width="210" height="110" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-8" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="vpVXF7R1RbWZok7m5yvl-3" target="vpVXF7R1RbWZok7m5yvl-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-3" value="add both pKFini and pKFcurr to pMP&lt;div&gt;by&lt;/div&gt;&lt;div&gt;AddMapPoint(pMP.mvpMapPoints[i]=KF)&lt;br&gt;&lt;/div&gt;&lt;div&gt;AddObservation(this create a reversed map &quot;KF-&amp;gt;idx&quot;)&lt;br&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;fontSize=9;fontFamily=Concola;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="339" y="490" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-46" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="vpVXF7R1RbWZok7m5yvl-32" target="vpVXF7R1RbWZok7m5yvl-45">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-32" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;pMP.UpdateNormalAndDepth()&lt;/font&gt;" style="whiteSpace=wrap;html=1;fontSize=9;fontFamily=Concola;verticalAlign=top;resizable=1;" vertex="1" parent="1">
          <mxGeometry x="209" y="980" width="500" height="470" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-33" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="vpVXF7R1RbWZok7m5yvl-7" target="vpVXF7R1RbWZok7m5yvl-32">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-34" value="" style="group" connectable="0" vertex="1" parent="1">
          <mxGeometry x="210.25" y="585" width="497.5" height="350" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-7" value="&lt;font style=&quot;font-size: 15px;&quot;&gt;pMP.ComputeDistinctiveDescriptors()&lt;/font&gt;" style="whiteSpace=wrap;html=1;fontSize=9;fontFamily=Concola;verticalAlign=top;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" vertex="1" parent="vpVXF7R1RbWZok7m5yvl-34">
          <mxGeometry width="497.5" height="350" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-13" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="vpVXF7R1RbWZok7m5yvl-34" source="vpVXF7R1RbWZok7m5yvl-9" target="vpVXF7R1RbWZok7m5yvl-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-9" value="copy&amp;nbsp;mObservations" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="vpVXF7R1RbWZok7m5yvl-34">
          <mxGeometry x="112.5" y="50" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-15" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="vpVXF7R1RbWZok7m5yvl-34" source="vpVXF7R1RbWZok7m5yvl-12" target="vpVXF7R1RbWZok7m5yvl-14">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-19" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" connectable="0" vertex="1" parent="vpVXF7R1RbWZok7m5yvl-15">
          <mxGeometry x="0.209" y="1" relative="1" as="geometry">
            <mxPoint x="-17" y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-17" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="vpVXF7R1RbWZok7m5yvl-34" source="vpVXF7R1RbWZok7m5yvl-12" target="vpVXF7R1RbWZok7m5yvl-21">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="340" y="160" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-18" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" connectable="0" vertex="1" parent="vpVXF7R1RbWZok7m5yvl-17">
          <mxGeometry x="-0.4605" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-12" value="if empty" style="rhombus;whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="vpVXF7R1RbWZok7m5yvl-34">
          <mxGeometry x="300" y="40" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-26" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="vpVXF7R1RbWZok7m5yvl-34" source="vpVXF7R1RbWZok7m5yvl-21" target="vpVXF7R1RbWZok7m5yvl-25">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-21" value="add those not marked as bad to a vector(vDescriptors)" style="whiteSpace=wrap;html=1;" vertex="1" parent="vpVXF7R1RbWZok7m5yvl-34">
          <mxGeometry x="112.5" y="145" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-28" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="vpVXF7R1RbWZok7m5yvl-34" source="vpVXF7R1RbWZok7m5yvl-25" target="vpVXF7R1RbWZok7m5yvl-27">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-25" value="Compute distances between them by&amp;nbsp;ORBmatcher::DescriptorDistance" style="whiteSpace=wrap;html=1;" vertex="1" parent="vpVXF7R1RbWZok7m5yvl-34">
          <mxGeometry x="9.379999999999995" y="230" width="406.25" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-27" value="取中位数距离最小的描述符用于MapPoint之间的快速比对" style="whiteSpace=wrap;html=1;" vertex="1" parent="vpVXF7R1RbWZok7m5yvl-34">
          <mxGeometry x="52.19" y="290" width="320.62" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-14" value="return" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="vpVXF7R1RbWZok7m5yvl-34">
          <mxGeometry x="440" y="67.5" width="50" height="25" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-38" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="vpVXF7R1RbWZok7m5yvl-36" target="vpVXF7R1RbWZok7m5yvl-37">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-36" value="!isBad&amp;nbsp;&lt;div&gt;&amp;amp;&amp;amp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;mObservations.notEmpty()&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;fontFamily=Concola;" vertex="1" parent="1">
          <mxGeometry x="219" y="1020" width="270" height="100" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-42" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="vpVXF7R1RbWZok7m5yvl-37" target="vpVXF7R1RbWZok7m5yvl-41">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <UserObject label="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mrow&gt;&lt;mtext&gt;&lt;br&gt;&lt;/mtext&gt;&lt;mtext&gt;&lt;br&gt;&lt;/mtext&gt;&lt;mtext&gt;normal&lt;/mtext&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mfrac&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/mfrac&gt;&lt;munderover&gt;&lt;mo&gt;∑&lt;/mo&gt;&lt;mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/munderover&gt;&lt;mfrac&gt;&lt;mrow&gt;&lt;mtext&gt;mWorldPos&lt;/mtext&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;mtext&gt;Owi&lt;/mtext&gt;&lt;/mrow&gt;&lt;mrow&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;∥&lt;/mi&gt;&lt;mtext&gt;mWorldPos&lt;/mtext&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;mtext&gt;Owi&lt;/mtext&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;∥&lt;/mi&gt;&lt;/mrow&gt;&lt;/mfrac&gt;&lt;/mrow&gt;\text{normal} = \frac{1}{n} \sum_{i=1}^{n} \frac{\text{mWorldPos} - \text{Owi}}{\| \text{mWorldPos} - \text{Owi} \|}&lt;/math&gt;" id="vpVXF7R1RbWZok7m5yvl-37">
          <mxCell style="whiteSpace=wrap;html=1;fontFamily=Concola;" vertex="1" parent="1">
            <mxGeometry x="469" y="1140" width="220" height="60" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-39" value="Owi = iter-&amp;gt;first-&amp;gt;GetCameraCenter();" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=10;fontFamily=Concola;" vertex="1" parent="1">
          <mxGeometry x="501.5" y="1115" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-40" value="&lt;span style=&quot;color: rgb(17, 17, 17); font-family: -apple-system, Roboto, SegoeUI, &amp;quot;Segoe UI&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Meiryo UI&amp;quot;, Meiryo, &amp;quot;Arial Unicode MS&amp;quot;, sans-serif; font-size: 16px; background-color: rgb(247, 247, 247);&quot;&gt;&amp;nbsp;loop through all the keyframes that observed the map point, computes the normal vector for each observation, and then normalizes and accumulates these vectors to find the average normal.&lt;/span&gt;" style="whiteSpace=wrap;html=1;align=center;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="689" y="1140" width="290" height="130" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-41" value="&lt;span style=&quot;color: rgb(17, 17, 17); font-family: -apple-system, Roboto, SegoeUI, &amp;quot;Segoe UI&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Meiryo UI&amp;quot;, Meiryo, &amp;quot;Arial Unicode MS&amp;quot;, sans-serif; font-size: 16px; text-align: start; background-color: rgb(247, 247, 247);&quot;&gt;calculates the maximum and minimum distances at which a map point can be reliably observed&lt;/span&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(17, 17, 17); font-family: -apple-system, Roboto, SegoeUI, &amp;quot;Segoe UI&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Meiryo UI&amp;quot;, Meiryo, &amp;quot;Arial Unicode MS&amp;quot;, sans-serif; font-size: 16px; text-align: start; background-color: rgb(247, 247, 247);&quot;&gt;and&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(17, 17, 17); font-family: -apple-system, Roboto, SegoeUI, &amp;quot;Segoe UI&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Meiryo UI&amp;quot;, Meiryo, &amp;quot;Arial Unicode MS&amp;quot;, sans-serif; font-size: 16px; text-align: start; background-color: rgb(247, 247, 247);&quot;&gt;the average normal vector to the map point&lt;/span&gt;&lt;span style=&quot;color: rgb(17, 17, 17); font-family: -apple-system, Roboto, SegoeUI, &amp;quot;Segoe UI&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Meiryo UI&amp;quot;, Meiryo, &amp;quot;Arial Unicode MS&amp;quot;, sans-serif; font-size: 16px; text-align: start; background-color: rgb(247, 247, 247);&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;fontFamily=Concola;" vertex="1" parent="1">
          <mxGeometry x="279" y="1240" width="392.5" height="90" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-43" value="&lt;div style=&quot;font-size: 9px;&quot;&gt;&amp;nbsp; &amp;nbsp; const float dist = cv::norm(Pos - pRefKF-&amp;gt;GetCameraCenter())&lt;/div&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&amp;nbsp; &amp;nbsp; const int level = pRefKF-&amp;gt;mvKeysUn[observations[pRefKF]].octave;&lt;/div&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&amp;nbsp; &amp;nbsp; const float levelScaleFactor =&amp;nbsp; pRefKF-&amp;gt;mvScaleFactors[level];&lt;/div&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/div&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; unique_lock&amp;lt;mutex&amp;gt; lock3(mMutexPos);&lt;/div&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; mfMaxDistance = dist*levelScaleFactor;&lt;/div&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; mfMinDistance = mfMaxDistance/pRefKF-&amp;gt;mvScaleFactors[pRefKF-&amp;gt;mnScaleLevels-1];&lt;/div&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; mNormalVector = normal/n;&lt;/div&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/div&gt;" style="whiteSpace=wrap;html=1;fontFamily=Concola;fontSize=9;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="279" y="1330" width="410" height="110" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-48" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="vpVXF7R1RbWZok7m5yvl-45" target="vpVXF7R1RbWZok7m5yvl-47">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="290" y="1560" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-45" value="Fill Current Frame structure&lt;div&gt;and&lt;/div&gt;&lt;div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Add to Map&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; mpMap-&amp;gt;AddMapPoint(pMP);&lt;/div&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;fontSize=9;fontFamily=Concola;verticalAlign=top;resizable=1;" vertex="1" parent="1">
          <mxGeometry x="349" y="1530" width="220" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-47" value="update connections for both pPKini and pPKcurr" style="whiteSpace=wrap;html=1;fontSize=9;fontFamily=Concola;verticalAlign=top;resizable=1;" vertex="1" parent="1">
          <mxGeometry x="-557.5" y="1330" width="745" height="620" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-50" value="&lt;div style=&quot;font-size: 10px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;Feature vector associate features with nodes in the 4th level (from leaves up)&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&amp;nbsp; We assume the vocabulary tree has 6 levels, change the 4 otherwise&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="182.5" y="135" width="380" height="40" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-55" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="vpVXF7R1RbWZok7m5yvl-51" target="vpVXF7R1RbWZok7m5yvl-56">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-120" y="1461.9672131147538" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-51" value="&lt;p&gt;loop over all map points in vpMP and Skip any null pointers or bad map points.&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;" style="whiteSpace=wrap;html=1;fontFamily=Concola;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="-520" y="1400" width="310" height="140" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-53" value="&lt;div&gt;Retrieve observations for each map point, which are keyframes where the map point is seen.&lt;/div&gt;&lt;div&gt;save them to&amp;nbsp;KFcounter&lt;/div&gt;" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-500" y="1470" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-58" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="vpVXF7R1RbWZok7m5yvl-56" target="vpVXF7R1RbWZok7m5yvl-57">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-59" value="empty" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" connectable="0" vertex="1" parent="vpVXF7R1RbWZok7m5yvl-58">
          <mxGeometry x="-0.39" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-61" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="vpVXF7R1RbWZok7m5yvl-56" target="vpVXF7R1RbWZok7m5yvl-60">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-62" value="else" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" connectable="0" vertex="1" parent="vpVXF7R1RbWZok7m5yvl-61">
          <mxGeometry x="-0.2154" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-56" value="check for KFcounter" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-140" y="1430" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-57" value="return" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="1440" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-64" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="vpVXF7R1RbWZok7m5yvl-60" target="vpVXF7R1RbWZok7m5yvl-63">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-60" value="create connection&lt;div&gt;(int th = 15)&lt;/div&gt;" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-160" y="1620" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-68" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="vpVXF7R1RbWZok7m5yvl-63" target="vpVXF7R1RbWZok7m5yvl-67">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-63" value="loop over&amp;nbsp;KFcounter" style="whiteSpace=wrap;html=1;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="-520" y="1570" width="310" height="160" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-65" value="update nMax and pKFMax" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-510" y="1610" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-66" value="once iter.second &amp;gt;= th, add this pair to&amp;nbsp;vPairs,&lt;div&gt;also create connection between current frame&amp;nbsp;&lt;/div&gt;" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-510" y="1650" width="280" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-70" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="vpVXF7R1RbWZok7m5yvl-67" target="vpVXF7R1RbWZok7m5yvl-69">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-67" value="add pKFmax to vPairs if non of iters.secont &amp;gt;= th&lt;div&gt;to ensure it&#39;s not empty&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=center;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="-507.5" y="1754" width="285" height="36" as="geometry" />
        </mxCell>
        <mxCell id="W30dYmc6oBwDvaVxRHc0-9" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="vpVXF7R1RbWZok7m5yvl-69" target="W30dYmc6oBwDvaVxRHc0-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-69" value="sort vPair and set some member properties based on vPair&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;mConnectedKeyFrameWeights = KFcounter&lt;br&gt;&lt;/div&gt;&lt;div&gt;mvpOrderedConnectedKeyFrames = vPairs.map(it-&amp;gt;it.first)&lt;br&gt;&lt;/div&gt;&lt;div&gt;mvOrderedWeights = vPair.map(it-&amp;gt;it.second)&lt;/div&gt;" style="whiteSpace=wrap;html=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="-180" y="1694" width="320" height="96" as="geometry" />
        </mxCell>
        <mxCell id="W30dYmc6oBwDvaVxRHc0-1" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="vpVXF7R1RbWZok7m5yvl-47" target="W30dYmc6oBwDvaVxRHc0-8">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-185" y="1950" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="W30dYmc6oBwDvaVxRHc0-2" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="W30dYmc6oBwDvaVxRHc0-5" target="W30dYmc6oBwDvaVxRHc0-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="W30dYmc6oBwDvaVxRHc0-3" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" connectable="0" vertex="1" parent="W30dYmc6oBwDvaVxRHc0-2">
          <mxGeometry x="-0.297" y="-1" relative="1" as="geometry">
            <mxPoint y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="W30dYmc6oBwDvaVxRHc0-4" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="W30dYmc6oBwDvaVxRHc0-5" target="W30dYmc6oBwDvaVxRHc0-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="W30dYmc6oBwDvaVxRHc0-5" value="mbFirstConnection &amp;amp;&amp;amp; mnId!=0" style="rhombus;whiteSpace=wrap;html=1;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="-125" y="1830" width="210" height="90" as="geometry" />
        </mxCell>
        <mxCell id="W30dYmc6oBwDvaVxRHc0-6" value="return" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="250" y="1845" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="W30dYmc6oBwDvaVxRHc0-7" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; mpParent = mvpOrderedConnectedKeyFrames.front();&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; mpParent-&amp;gt;AddChild(this);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; mbFirstConnection = false;&lt;/div&gt;" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-540" y="1845" width="370" height="65" as="geometry" />
        </mxCell>
        <mxCell id="W30dYmc6oBwDvaVxRHc0-11" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="W30dYmc6oBwDvaVxRHc0-8" target="W30dYmc6oBwDvaVxRHc0-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="W30dYmc6oBwDvaVxRHc0-8" value="global bundle adj" style="whiteSpace=wrap;html=1;fontSize=9;fontFamily=Concola;verticalAlign=top;resizable=1;" vertex="1" parent="1">
          <mxGeometry x="-245" y="2000" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cgVs-maELSSKDgRnYAs5-6" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="W30dYmc6oBwDvaVxRHc0-10" target="cgVs-maELSSKDgRnYAs5-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="W30dYmc6oBwDvaVxRHc0-10" value="compute scene median depth&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;fontSize=9;fontFamily=Concola;verticalAlign=top;resizable=1;" vertex="1" parent="1">
          <mxGeometry x="-297.5" y="2050" width="225" height="320" as="geometry" />
        </mxCell>
        <mxCell id="cgVs-maELSSKDgRnYAs5-4" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="cgVs-maELSSKDgRnYAs5-1" target="cgVs-maELSSKDgRnYAs5-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cgVs-maELSSKDgRnYAs5-1" value="$$&#xa;z = R_{cw2} \cdot x_{3Dw} + z_{cw}&#xa;$$&#xa;in which, x3dw is p3d from previous step&#xa;Rcw2 is Tcw&#39;s row(2), col[0:3]" style="whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-286.25" y="2140" width="202.5" height="100" as="geometry" />
        </mxCell>
        <mxCell id="cgVs-maELSSKDgRnYAs5-2" value="$$&#xa;R_{cw2}&#xa;&#xa;$$" style="whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-245" y="2070" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cgVs-maELSSKDgRnYAs5-3" value="add all &#39;z&#39; to a list then sort then find median value (\(Md\))" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-267.5" y="2288" width="165" height="50" as="geometry" />
        </mxCell>
        <mxCell id="cgVs-maELSSKDgRnYAs5-8" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="cgVs-maELSSKDgRnYAs5-5" target="cgVs-maELSSKDgRnYAs5-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cgVs-maELSSKDgRnYAs5-11" value="True" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" connectable="0" vertex="1" parent="cgVs-maELSSKDgRnYAs5-8">
          <mxGeometry x="-0.152" y="-3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cgVs-maELSSKDgRnYAs5-10" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="cgVs-maELSSKDgRnYAs5-5" target="cgVs-maELSSKDgRnYAs5-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cgVs-maELSSKDgRnYAs5-12" value="False" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" connectable="0" vertex="1" parent="cgVs-maELSSKDgRnYAs5-10">
          <mxGeometry x="-0.1478" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cgVs-maELSSKDgRnYAs5-5" value="medianDepth &amp;lt; 0&lt;div&gt;or&lt;/div&gt;&lt;div&gt;tracked map point in current frame &amp;lt; 100&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;fontSize=9;fontFamily=Concola;verticalAlign=middle;resizable=1;" vertex="1" parent="1">
          <mxGeometry x="-295" y="2450" width="220" height="120" as="geometry" />
        </mxCell>
        <mxCell id="cgVs-maELSSKDgRnYAs5-7" value="reset everything and try again" style="whiteSpace=wrap;html=1;fontSize=9;fontFamily=Concola;resizable=1;" vertex="1" parent="1">
          <mxGeometry x="-585" y="2480" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cgVs-maELSSKDgRnYAs5-14" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="cgVs-maELSSKDgRnYAs5-9" target="cgVs-maELSSKDgRnYAs5-13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cgVs-maELSSKDgRnYAs5-9" value="apply scale baseline on \(T_{cw}\)&#xa;$$&#xa;pKFcur.Pose = \begin{bmatrix}&#xa;\cdots &amp; \frac{t_{14}}{Md} \\&#xa;\cdots &amp; \frac{t_{24}}{Md} \\&#xa;\cdots &amp; \frac{t_{34}}{Md} \\&#xa;\cdots &amp; 1&#xa;\end{bmatrix}&#xa;$$" style="whiteSpace=wrap;fontSize=9;fontFamily=Concola;resizable=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="-257.5" y="2630" width="145" height="110" as="geometry" />
        </mxCell>
        <mxCell id="cgVs-maELSSKDgRnYAs5-16" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="cgVs-maELSSKDgRnYAs5-13" target="cgVs-maELSSKDgRnYAs5-15">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cgVs-maELSSKDgRnYAs5-13" value="apply scale for map points&#xa;&#xa;pMP.WorldPos \(= \frac{\text{pMP.WorldPos}}{Md}\)" style="whiteSpace=wrap;fontSize=9;fontFamily=Concola;verticalAlign=top;resizable=1;" vertex="1" parent="1">
          <mxGeometry x="-266.25" y="2790" width="162.5" height="50" as="geometry" />
        </mxCell>
        <mxCell id="cgVs-maELSSKDgRnYAs5-15" value="set some values&lt;div&gt;&lt;ol&gt;&lt;li&gt;add both ini and cur KF to local mapper&lt;/li&gt;&lt;li&gt;set current frame pose&lt;/li&gt;&lt;li&gt;set some id for frame&lt;/li&gt;&lt;li&gt;add KF to local map KF array&lt;/li&gt;&lt;li&gt;add mappoints to local map&lt;/li&gt;&lt;li&gt;set ref KF to KFcur&lt;/li&gt;&lt;li&gt;set current frame as last frame&lt;/li&gt;&lt;li&gt;set current local map points as ref map point&lt;/li&gt;&lt;li&gt;draw current camera pose on GUI&lt;/li&gt;&lt;li&gt;set origin KF as pKFini&lt;/li&gt;&lt;li&gt;set FSM mState to &quot;OK&quot;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;fontSize=9;fontFamily=Concola;verticalAlign=top;resizable=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="-317.5" y="2890" width="265" height="155" as="geometry" />
        </mxCell>
        <mxCell id="vpVXF7R1RbWZok7m5yvl-23" value="was set by&amp;nbsp;SetBadFlag()&amp;nbsp;&lt;div style=&quot;font-size: 10px;&quot;&gt;and invoked at LocalMapping and LoopClosing&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="521.5" y="745" width="230" height="40" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="KW-pZF4IFAJCQqJS-ftx" name="TrackLoop">
    <mxGraphModel grid="1" page="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" pageScale="1" pageWidth="827" pageHeight="1169" math="1" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="QEIFcaxJOCSnWw7oOHoF-9" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="QEIFcaxJOCSnWw7oOHoF-6" target="QEIFcaxJOCSnWw7oOHoF-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="QEIFcaxJOCSnWw7oOHoF-6" value="NO_IMAGE_YET" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry width="130" height="60" as="geometry" />
        </mxCell>
        <mxCell id="QEIFcaxJOCSnWw7oOHoF-10" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="QEIFcaxJOCSnWw7oOHoF-7" target="QEIFcaxJOCSnWw7oOHoF-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="QEIFcaxJOCSnWw7oOHoF-7" value="NOT_INITIALIZED" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="200" width="150" height="70" as="geometry" />
        </mxCell>
        <mxCell id="QEIFcaxJOCSnWw7oOHoF-11" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="QEIFcaxJOCSnWw7oOHoF-8" target="QEIFcaxJOCSnWw7oOHoF-12">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="480" y="150" />
              <mxPoint x="620" y="150" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="QEIFcaxJOCSnWw7oOHoF-8" value="OK" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="440" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="QEIFcaxJOCSnWw7oOHoF-14" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="QEIFcaxJOCSnWw7oOHoF-12" target="QEIFcaxJOCSnWw7oOHoF-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="QEIFcaxJOCSnWw7oOHoF-12" value="LOST" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="580" width="80" height="80" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="CnFu-vxjdeD2rGoRtbiO" name="第 14 页">
    <mxGraphModel grid="1" page="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" pageScale="1" pageWidth="827" pageHeight="1169" math="1" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="eGk2S7Va283MtGseAvHp" name="FindHomography">
    <mxGraphModel grid="1" page="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" pageScale="1" pageWidth="827" pageHeight="1169" math="1" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="7lq4j2NiUmBVYog54yVo-1" value="&amp;nbsp;Perform calculations on the N=8 set of key points in this iteration" style="whiteSpace=wrap;html=1;align=left;verticalAlign=top;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="-1330" y="-90" width="700" height="820" as="geometry" />
        </mxCell>
        <mxCell id="unXkxCpnxYjhPgxiuKIi-10" value="&amp;nbsp;计算2-&amp;gt;1的Homography" style="whiteSpace=wrap;html=1;align=left;verticalAlign=top;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" vertex="1" parent="1">
          <mxGeometry x="-370" y="50" width="500" height="630" as="geometry" />
        </mxCell>
        <mxCell id="AtbxRggxK145IAXGFId9-3" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="AtbxRggxK145IAXGFId9-1" target="AtbxRggxK145IAXGFId9-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="AtbxRggxK145IAXGFId9-1" value="putative matches N = mvMatches12.size();" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="380" y="-120" width="252" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7eJCyhuZzZTmZI7_fdhN-2" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="pvlPvgX86_u9QNe-fjoW-1" target="7eJCyhuZzZTmZI7_fdhN-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <UserObject label="&lt;u&gt;Normalize 以下&lt;/u&gt;两组关键点集&lt;div&gt;\(vPn1,T_1 = mvKeys1\) (from Reference Frame (Frame 1))&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;\(vPn2,T_2 = mvKeys2\) (&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;from Current Frame (Frame 2)）&lt;/span&gt;&lt;/div&gt;" link="data:page/id,_Pb55MrTwu3IgO1WLSWn" id="AtbxRggxK145IAXGFId9-2">
          <mxCell style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
            <mxGeometry x="303.25" y="-40" width="405.5" height="60" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="bZxLAXY-TzrViy1_43xC-52" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="7eJCyhuZzZTmZI7_fdhN-1" target="7eJCyhuZzZTmZI7_fdhN-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="7eJCyhuZzZTmZI7_fdhN-1" value="计算并寻找最优score" style="whiteSpace=wrap;html=1;rounded=0;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="446" y="180" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="unXkxCpnxYjhPgxiuKIi-8" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="7eJCyhuZzZTmZI7_fdhN-3" target="unXkxCpnxYjhPgxiuKIi-4">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-120" y="-49.99999999999977" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7eJCyhuZzZTmZI7_fdhN-3" value="计算帧2对帧1的Homograph" style="whiteSpace=wrap;html=1;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="-210" y="-120" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="unXkxCpnxYjhPgxiuKIi-12" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="unXkxCpnxYjhPgxiuKIi-5" target="unXkxCpnxYjhPgxiuKIi-11">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="unXkxCpnxYjhPgxiuKIi-16" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="unXkxCpnxYjhPgxiuKIi-11" target="unXkxCpnxYjhPgxiuKIi-15">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bZxLAXY-TzrViy1_43xC-41" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="7eJCyhuZzZTmZI7_fdhN-1" target="bZxLAXY-TzrViy1_43xC-42">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="70" y="1100" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="unXkxCpnxYjhPgxiuKIi-15" value="&lt;u&gt;计算当前iter的score&lt;/u&gt;" style="whiteSpace=wrap;html=1;fontFamily=Concola;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="-180" y="720" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bZxLAXY-TzrViy1_43xC-4" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="unXkxCpnxYjhPgxiuKIi-18" target="bZxLAXY-TzrViy1_43xC-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="unXkxCpnxYjhPgxiuKIi-18" value="计算score" style="whiteSpace=wrap;html=1;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="-1025" y="-240" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="unXkxCpnxYjhPgxiuKIi-11" value="&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;f2-&amp;gt;f1的Homograph：H21i = \(T_2^*H_nT_1\)&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;f1-&amp;gt;f2的Homograph：&lt;/span&gt;H12i = H21i*&lt;/div&gt;" style="whiteSpace=wrap;html=1;fontFamily=Concola;" vertex="1" parent="1">
          <mxGeometry x="-328.75" y="585" width="417.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="unXkxCpnxYjhPgxiuKIi-2" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="unXkxCpnxYjhPgxiuKIi-4" target="unXkxCpnxYjhPgxiuKIi-1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-135.94594594594605" y="520" as="sourcePoint" />
            <mxPoint x="250" y="390" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="unXkxCpnxYjhPgxiuKIi-6" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="unXkxCpnxYjhPgxiuKIi-1" target="unXkxCpnxYjhPgxiuKIi-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="unXkxCpnxYjhPgxiuKIi-1" value="求解SVD:&#xa;cv::SVDecomp(\(A=wuv^\intercal\))" style="whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-290" y="397" width="340" height="60" as="geometry" />
        </mxCell>
        <mxCell id="unXkxCpnxYjhPgxiuKIi-4" value="填充矩阵A&lt;br style=&quot;padding: 0px; margin: 0px;&quot;&gt;\(u_1^i, v_1^i= vP1_i.x, vP1_i.y\)&lt;br style=&quot;padding: 0px; margin: 0px;&quot;&gt;&lt;br style=&quot;padding: 0px; margin: 0px;&quot;&gt;\(u_2^i, v_2^i= vP2_i.x, vP2_i.y\)&lt;br style=&quot;padding: 0px; margin: 0px;&quot;&gt;$$A = \begin{bmatrix}&lt;br style=&quot;padding: 0px; margin: 0px;&quot;&gt;0 &amp;amp; 0 &amp;amp; 0 &amp;amp; -u_1^1 &amp;amp; -v_1^1 &amp;amp; -1 &amp;amp; v_2^1 u_1^1 &amp;amp; v_2^1 v_1^1 &amp;amp; v_2^1 \\&lt;br style=&quot;padding: 0px; margin: 0px;&quot;&gt;u_1^1 &amp;amp; v_1^1 &amp;amp; 1 &amp;amp; 0 &amp;amp; 0 &amp;amp; 0 &amp;amp; -u_2^1 u_1^1 &amp;amp; -u_2^1 v_1^1 &amp;amp; -u_2^1 \\&lt;br style=&quot;padding: 0px; margin: 0px;&quot;&gt;0 &amp;amp; 0 &amp;amp; 0 &amp;amp; -u_1^2 &amp;amp; -v_1^2 &amp;amp; -1 &amp;amp; v_2^2 u_1^2 &amp;amp; v_2^2 v_1^2 &amp;amp; v_2^2 \\&lt;br style=&quot;padding: 0px; margin: 0px;&quot;&gt;u_1^2 &amp;amp; v_1^2 &amp;amp; 1 &amp;amp; 0 &amp;amp; 0 &amp;amp; 0 &amp;amp; -u_2^2 u_1^2 &amp;amp; -u_2^2 v_1^2 &amp;amp; -u_2^2 \\&lt;br style=&quot;padding: 0px; margin: 0px;&quot;&gt;\vdots &amp;amp; \vdots &amp;amp; \vdots &amp;amp; \vdots &amp;amp; \vdots &amp;amp; \vdots &amp;amp; \vdots &amp;amp; \vdots &amp;amp; \vdots \\&lt;br style=&quot;padding: 0px; margin: 0px;&quot;&gt;0 &amp;amp; 0 &amp;amp; 0 &amp;amp; -u_1^8 &amp;amp; -v_1^8 &amp;amp; -1 &amp;amp; v_2^8 u_1^8 &amp;amp; v_2^8 v_1^8 &amp;amp; v_2^8 \\&lt;br style=&quot;padding: 0px; margin: 0px;&quot;&gt;u_1^8 &amp;amp; v_1^8 &amp;amp; 1 &amp;amp; 0 &amp;amp; 0 &amp;amp; 0 &amp;amp; -u_2^8 u_1^8 &amp;amp; -u_2^8 v_1^8 &amp;amp; -u_2^8 \\&lt;br style=&quot;padding: 0px; margin: 0px;&quot;&gt;\end{bmatrix}$$" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-315" y="90" width="390" height="270" as="geometry" />
        </mxCell>
        <mxCell id="unXkxCpnxYjhPgxiuKIi-5" value="\(H_n\) = \(v^\intercal\).row(8).reshape(0, 3);" style="whiteSpace=wrap;html=1;fontFamily=Concola;" vertex="1" parent="1">
          <mxGeometry x="-225" y="490" width="210" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bZxLAXY-TzrViy1_43xC-3" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="bZxLAXY-TzrViy1_43xC-1" target="bZxLAXY-TzrViy1_43xC-26">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-945.5" y="30" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="bZxLAXY-TzrViy1_43xC-1" value="\(u_1,v_1 = kp1_i.x, kp1_i.y\)&#xa;\(u_2,v_2 = kp2_i.x, kp2_i.y\)" style="whiteSpace=wrap;fontFamily=Concola;" vertex="1" parent="1">
          <mxGeometry x="-1085" y="-60" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bZxLAXY-TzrViy1_43xC-35" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="bZxLAXY-TzrViy1_43xC-26" target="bZxLAXY-TzrViy1_43xC-34">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bZxLAXY-TzrViy1_43xC-51" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="bZxLAXY-TzrViy1_43xC-34" target="bZxLAXY-TzrViy1_43xC-42">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-965" y="870" />
              <mxPoint x="260" y="870" />
              <mxPoint x="260" y="320" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="bZxLAXY-TzrViy1_43xC-34" value="return score" style="whiteSpace=wrap;html=1;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="-1025" y="760" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bZxLAXY-TzrViy1_43xC-39" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;endArrow=none;endFill=0;startArrow=classic;startFill=1;" edge="1" parent="1" source="unXkxCpnxYjhPgxiuKIi-15" target="unXkxCpnxYjhPgxiuKIi-18">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-510" y="750" />
              <mxPoint x="-510" y="-210" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="bZxLAXY-TzrViy1_43xC-42" value="找出最大的score(\(S_H\))并返回" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="426" y="290" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bZxLAXY-TzrViy1_43xC-50" value="" style="group" connectable="0" vertex="1" parent="1">
          <mxGeometry x="-1270" y="40" width="610" height="660" as="geometry" />
        </mxCell>
        <mxCell id="bZxLAXY-TzrViy1_43xC-26" value="" style="whiteSpace=wrap;align=left;verticalAlign=top;spacingRight=8;spacingBottom=0;spacingTop=8;spacingLeft=8;" vertex="1" parent="bZxLAXY-TzrViy1_43xC-50">
          <mxGeometry width="610" height="660" as="geometry" />
        </mxCell>
        <mxCell id="bZxLAXY-TzrViy1_43xC-8" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="bZxLAXY-TzrViy1_43xC-50" target="bZxLAXY-TzrViy1_43xC-7">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="420" y="510" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="bZxLAXY-TzrViy1_43xC-10" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="bZxLAXY-TzrViy1_43xC-50" source="bZxLAXY-TzrViy1_43xC-7" target="bZxLAXY-TzrViy1_43xC-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bZxLAXY-TzrViy1_43xC-13" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="bZxLAXY-TzrViy1_43xC-50" source="bZxLAXY-TzrViy1_43xC-7" target="bZxLAXY-TzrViy1_43xC-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bZxLAXY-TzrViy1_43xC-47" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="bZxLAXY-TzrViy1_43xC-50" source="bZxLAXY-TzrViy1_43xC-23" target="bZxLAXY-TzrViy1_43xC-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bZxLAXY-TzrViy1_43xC-7" value="chiSquare &amp;gt; threshold(5.991)" style="rhombus;whiteSpace=wrap;html=1;fontFamily=Concola;" vertex="1" parent="bZxLAXY-TzrViy1_43xC-50">
          <mxGeometry x="287.5" y="330" width="265" height="80" as="geometry" />
        </mxCell>
        <mxCell id="bZxLAXY-TzrViy1_43xC-30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="bZxLAXY-TzrViy1_43xC-50" source="bZxLAXY-TzrViy1_43xC-9" target="bZxLAXY-TzrViy1_43xC-29">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bZxLAXY-TzrViy1_43xC-32" value="mark=false" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" connectable="0" vertex="1" parent="bZxLAXY-TzrViy1_43xC-30">
          <mxGeometry x="0.6443" y="-2" relative="1" as="geometry">
            <mxPoint y="-12" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="bZxLAXY-TzrViy1_43xC-9" value="ignore this result" style="whiteSpace=wrap;html=1;fontFamily=Concola;" vertex="1" parent="bZxLAXY-TzrViy1_43xC-50">
          <mxGeometry x="20" y="341" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bZxLAXY-TzrViy1_43xC-11" value="YES" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=16;" vertex="1" parent="bZxLAXY-TzrViy1_43xC-50">
          <mxGeometry x="227.5" y="347" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="bZxLAXY-TzrViy1_43xC-31" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="bZxLAXY-TzrViy1_43xC-50" source="bZxLAXY-TzrViy1_43xC-12" target="bZxLAXY-TzrViy1_43xC-29">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bZxLAXY-TzrViy1_43xC-33" value="mark=true" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" connectable="0" vertex="1" parent="bZxLAXY-TzrViy1_43xC-31">
          <mxGeometry x="-0.3257" relative="1" as="geometry">
            <mxPoint x="30" y="13" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="bZxLAXY-TzrViy1_43xC-12" value="accumulate score&lt;div&gt;score += threshold - chiSquare&lt;/div&gt;" style="whiteSpace=wrap;html=1;fontFamily=Concola;" vertex="1" parent="bZxLAXY-TzrViy1_43xC-50">
          <mxGeometry x="310" y="470" width="220" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bZxLAXY-TzrViy1_43xC-21" value="NO" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=16;" vertex="1" parent="bZxLAXY-TzrViy1_43xC-50">
          <mxGeometry x="413" y="420" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="bZxLAXY-TzrViy1_43xC-29" value="&lt;font face=&quot;Concola&quot;&gt;更新 vbMatchesInliers&lt;/font&gt;&lt;div&gt;&lt;font face=&quot;Concola&quot;&gt;根据计算出的卡方值来标记每个匹配项是否为离群值&lt;/font&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;" vertex="1" parent="bZxLAXY-TzrViy1_43xC-50">
          <mxGeometry x="245" y="580" width="350" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bZxLAXY-TzrViy1_43xC-46" value="" style="group" connectable="0" vertex="1" parent="bZxLAXY-TzrViy1_43xC-50">
          <mxGeometry x="287.4468085106382" y="20" width="254.4680851063829" height="280" as="geometry" />
        </mxCell>
        <mxCell id="bZxLAXY-TzrViy1_43xC-23" value="计算重投影误差(chi-square statistic)&#xa;&#xa;$$\displaylines{&#xa;u_{in} = \frac{H_{0,0}*u+H_{0,1}*v+H_{0,2}}{H_{2,0}*u+H_{2,1}*v+H_{2,2}}&#xa;\\&#xa;v_{in} = \frac{H_{1,0}*u+H_{1,1}*v+H_{1,2}}{H_{2,0}*u+H_{2,1}*v+H_{2,2}}&#xa;\\&#xa;squareDist = (u-u_{in})^2+(v-v_{in})^2&#xa;\\&#xa;chiSquare = \frac{squareDist}{sigma^2}&#xa;}$$&#xa;in this program, \(sigma\) is always 1, then&#xa;\(chiSquare = squareDist\)&#xa;" style="whiteSpace=wrap;fontFamily=Concola;" vertex="1" parent="bZxLAXY-TzrViy1_43xC-46">
          <mxGeometry width="254.46808510638294" height="280" as="geometry" />
        </mxCell>
        <mxCell id="bZxLAXY-TzrViy1_43xC-24" value="" style="whiteSpace=wrap;html=1;strokeColor=none;fillColor=#dae8fc;opacity=60;" vertex="1" parent="bZxLAXY-TzrViy1_43xC-46">
          <mxGeometry x="58.723404255319224" y="115" width="171.27659574468083" height="18" as="geometry" />
        </mxCell>
        <mxCell id="bZxLAXY-TzrViy1_43xC-45" value="" style="whiteSpace=wrap;html=1;strokeColor=none;fillColor=#dae8fc;opacity=60;" vertex="1" parent="bZxLAXY-TzrViy1_43xC-46">
          <mxGeometry x="58.723404255319224" y="73" width="171.27659574468083" height="18" as="geometry" />
        </mxCell>
        <mxCell id="bZxLAXY-TzrViy1_43xC-49" value="分别取值计算重投影误差&lt;br&gt;$$\begin{matrix}&lt;br&gt;H = \text{H12i} &amp;amp; | &amp;amp; H = \text{H21i}\\&lt;br&gt;u = u_2 &amp;amp;&amp;nbsp;| &amp;amp;&amp;nbsp;u = v_1 \\&lt;br&gt;v = v_2 &amp;amp;&amp;nbsp;| &amp;amp;&amp;nbsp;v = v_1&lt;br&gt;\end{matrix}$$" style="text;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=16;html=1;" vertex="1" parent="bZxLAXY-TzrViy1_43xC-50">
          <mxGeometry x="-25" y="95" width="280" height="130" as="geometry" />
        </mxCell>
        <mxCell id="pvlPvgX86_u9QNe-fjoW-2" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="AtbxRggxK145IAXGFId9-2" target="pvlPvgX86_u9QNe-fjoW-1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="506" y="20" as="sourcePoint" />
            <mxPoint x="506" y="170" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="pvlPvgX86_u9QNe-fjoW-1" value="按随机选点后的次序(mvSets[iter])填充 \(vPn1i,vPn2i\)&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;vPn1i[j] = vPn1[mvMatches12[idx].first];&lt;/div&gt;&lt;div&gt;vPn2i[j] = vPn2[mvMatches12[idx].second];&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;fontFamily=Concola;" vertex="1" parent="1">
          <mxGeometry x="349.75" y="60" width="312.5" height="80" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="yl35L6kg3eYYp96YjXPv" name="FindFundamental">
    <mxGraphModel grid="1" page="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" pageScale="1" pageWidth="827" pageHeight="1169" math="1" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="FVko4rKpamZqksc8SxnO-1" value="&amp;nbsp;Perform calculations on the N=8 set of key points in this iteration \((i)\)" style="whiteSpace=wrap;html=1;dashed=1;align=left;verticalAlign=top;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" vertex="1" parent="1">
          <mxGeometry x="-1355" y="-70" width="800" height="810" as="geometry" />
        </mxCell>
        <mxCell id="wG02hHU-KlCxFCataYoK-52" value="&amp;nbsp;计算2-&amp;gt;1的Fundamental" style="whiteSpace=wrap;html=1;align=left;verticalAlign=top;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" vertex="1" parent="1">
          <mxGeometry x="-360" y="50" width="500" height="710" as="geometry" />
        </mxCell>
        <mxCell id="wG02hHU-KlCxFCataYoK-53" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="wG02hHU-KlCxFCataYoK-54" target="wG02hHU-KlCxFCataYoK-56">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wG02hHU-KlCxFCataYoK-54" value="putative matches N = mvMatches12.size();" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="390" y="-110" width="252" height="40" as="geometry" />
        </mxCell>
        <mxCell id="wG02hHU-KlCxFCataYoK-55" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="wG02hHU-KlCxFCataYoK-102" target="wG02hHU-KlCxFCataYoK-58">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <UserObject label="&lt;u&gt;Normalize 以下&lt;/u&gt;两组关键点集&lt;div&gt;\(vPn1,T_1 = mvKeys1\) (from Reference Frame (Frame 1))&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;\(vPn2,T_2 = mvKeys2\) (&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;from Current Frame (Frame 2)）&lt;/span&gt;&lt;/div&gt;" link="data:page/id,_Pb55MrTwu3IgO1WLSWn" id="wG02hHU-KlCxFCataYoK-56">
          <mxCell style="whiteSpace=wrap;html=1;rounded=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
            <mxGeometry x="313.25" y="-30" width="405.5" height="60" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="wG02hHU-KlCxFCataYoK-57" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="wG02hHU-KlCxFCataYoK-58" target="wG02hHU-KlCxFCataYoK-60">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wG02hHU-KlCxFCataYoK-58" value="计算并寻找最优score" style="whiteSpace=wrap;html=1;rounded=0;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="456" y="190" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="wG02hHU-KlCxFCataYoK-59" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="wG02hHU-KlCxFCataYoK-60" target="wG02hHU-KlCxFCataYoK-71">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-110" y="-119.99999999999977" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wG02hHU-KlCxFCataYoK-60" value="计算帧2对帧1的Fundamental" style="whiteSpace=wrap;html=1;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="-200" y="-50" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="wG02hHU-KlCxFCataYoK-61" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="wG02hHU-KlCxFCataYoK-72" target="jvnSkm1zk4AywTsGJzJU-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wG02hHU-KlCxFCataYoK-62" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="wG02hHU-KlCxFCataYoK-67" target="wG02hHU-KlCxFCataYoK-64">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wG02hHU-KlCxFCataYoK-63" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="wG02hHU-KlCxFCataYoK-58" target="wG02hHU-KlCxFCataYoK-79">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="80" y="1110" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wG02hHU-KlCxFCataYoK-64" value="&lt;u&gt;计算当前iter的score&lt;/u&gt;" style="whiteSpace=wrap;html=1;fontFamily=Concola;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="-170" y="790" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="wG02hHU-KlCxFCataYoK-65" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="wG02hHU-KlCxFCataYoK-66" target="wG02hHU-KlCxFCataYoK-74">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wG02hHU-KlCxFCataYoK-66" value="计算score" style="whiteSpace=wrap;html=1;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="-1015" y="-150" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="wG02hHU-KlCxFCataYoK-67" value="f2-&gt;f1的Fundamental&#xa;$$F = F21i = \mathbf{u} \cdot \begin{bmatrix}&#xa;w_1 &amp; 0 &amp; \cdots &amp; 0 \\&#xa;0 &amp; w_2 &amp; \cdots &amp; 0 \\&#xa;\vdots &amp; \vdots &amp; \ddots &amp; \vdots \\&#xa;0 &amp; 0 &amp; \cdots &amp; w_n&#xa;\end{bmatrix} \cdot \mathbf{v}^\intercal$$" style="whiteSpace=wrap;fontFamily=Concola;" vertex="1" parent="1">
          <mxGeometry x="-318.75" y="600" width="417.5" height="140" as="geometry" />
        </mxCell>
        <mxCell id="wG02hHU-KlCxFCataYoK-68" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="wG02hHU-KlCxFCataYoK-71" target="wG02hHU-KlCxFCataYoK-70">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-125.94594594594605" y="450" as="sourcePoint" />
            <mxPoint x="260" y="320" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wG02hHU-KlCxFCataYoK-69" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="wG02hHU-KlCxFCataYoK-70" target="wG02hHU-KlCxFCataYoK-72">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jvnSkm1zk4AywTsGJzJU-9" value="\(v^\intercal\)" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" connectable="0" vertex="1" parent="wG02hHU-KlCxFCataYoK-69">
          <mxGeometry x="-0.4275" relative="1" as="geometry">
            <mxPoint x="10" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wG02hHU-KlCxFCataYoK-70" value="cv::SVDecomp(\(A=wuv^\intercal\))" style="whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-280" y="320" width="340" height="40" as="geometry" />
        </mxCell>
        <mxCell id="wG02hHU-KlCxFCataYoK-71" value="填充矩阵A&#xa;\(u_1^i, v_1^i= vP1_i.x, vP1_i.y\)&#xa;&#xa;\(u_2^i, v_2^i= vP2_i.x, vP2_i.y\)&#xa;$$A = \begin{bmatrix}&#xa;u_2^1*u_1^1 &amp; u_2^1*v_1^1 &amp; u_2^1 &amp; v_2^1*u_1^1 &amp; v_2^1*v_1^1 &amp; v_2^1 &amp; u_1^1 &amp; v_1^1 \\&#xa;u_2^2*u_1^2 &amp; u_2^2*v_1^2 &amp; u_2^2 &amp; v_2^2*u_1^2 &amp; v_2^2*v_1^2 &amp; v_2^2 &amp; u_1^2 &amp; v_1^2 \\&#xa;\vdots &amp; \vdots &amp; \vdots &amp; \vdots &amp; \vdots &amp; \vdots &amp; \vdots &amp; \vdots &amp;  \\&#xa;u_2^8*u_1^8 &amp; u_2^8*v_1^8 &amp; u_2^8 &amp; v_2^8*u_1^8 &amp; v_2^8*v_1^8 &amp; v_2^8 &amp; u_1^8 &amp; v_1^8 \\\end{bmatrix}$$" style="whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-305" y="90" width="390" height="200" as="geometry" />
        </mxCell>
        <mxCell id="wG02hHU-KlCxFCataYoK-72" value="&lt;span style=&quot;font-family: Helvetica;&quot;&gt;\(F_{pre}\) = \(v^\intercal\).row(8).reshape(0, 3);&lt;/span&gt;" style="whiteSpace=wrap;html=1;fontFamily=Concola;" vertex="1" parent="1">
          <mxGeometry x="-215" y="392" width="210" height="40" as="geometry" />
        </mxCell>
        <mxCell id="wG02hHU-KlCxFCataYoK-74" value="\(u_1,v_1 = kp1_i.x, kp1_i.y\)&lt;br style=&quot;padding: 0px; margin: 0px;&quot;&gt;\(u_2,v_2 = kp2_i.x, kp2_i.y\)" style="whiteSpace=wrap;html=1;fontFamily=Concola;" vertex="1" parent="1">
          <mxGeometry x="-1060" y="-40" width="210" height="50" as="geometry" />
        </mxCell>
        <mxCell id="wG02hHU-KlCxFCataYoK-75" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="FVko4rKpamZqksc8SxnO-1" target="wG02hHU-KlCxFCataYoK-77">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-940" y="740" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wG02hHU-KlCxFCataYoK-76" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="wG02hHU-KlCxFCataYoK-77" target="wG02hHU-KlCxFCataYoK-79">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-955" y="950" />
              <mxPoint x="516" y="950" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="wG02hHU-KlCxFCataYoK-77" value="return score" style="whiteSpace=wrap;html=1;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="-1015" y="850" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="wG02hHU-KlCxFCataYoK-78" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;endArrow=none;endFill=0;startArrow=classic;startFill=1;" edge="1" parent="1" source="wG02hHU-KlCxFCataYoK-64" target="wG02hHU-KlCxFCataYoK-66">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-530" y="820" />
              <mxPoint x="-530" y="-120" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="wG02hHU-KlCxFCataYoK-79" value="找出最大的score(\(S_F\))并返回" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="436" y="300" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="wG02hHU-KlCxFCataYoK-101" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="wG02hHU-KlCxFCataYoK-56" target="wG02hHU-KlCxFCataYoK-102">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="516" y="30" as="sourcePoint" />
            <mxPoint x="516" y="180" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wG02hHU-KlCxFCataYoK-102" value="按随机选点后的次序(mvSets[iter])填充 \(vPn1i,vPn2i\)&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;vPn1i[j] = vPn1[mvMatches12[idx].first];&lt;/div&gt;&lt;div&gt;vPn2i[j] = vPn2[mvMatches12[idx].second];&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;fontFamily=Concola;" vertex="1" parent="1">
          <mxGeometry x="359.75" y="70" width="312.5" height="80" as="geometry" />
        </mxCell>
        <mxCell id="jvnSkm1zk4AywTsGJzJU-2" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="jvnSkm1zk4AywTsGJzJU-7" target="wG02hHU-KlCxFCataYoK-67">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jvnSkm1zk4AywTsGJzJU-1" value="cv::SVDecomp(\(F_{pre}=wuv^\intercal\))" style="whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-205" y="460" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="jvnSkm1zk4AywTsGJzJU-8" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="jvnSkm1zk4AywTsGJzJU-1" target="jvnSkm1zk4AywTsGJzJU-7">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-110" y="546" as="sourcePoint" />
            <mxPoint x="-110" y="680" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="jvnSkm1zk4AywTsGJzJU-7" value="$$w_{2,\text{*}} = 0 $$" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-170" y="530" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="jvnSkm1zk4AywTsGJzJU-12" value="u*cv::Mat::diag(w)*vt" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#6c8ebf;fillColor=#dae8fc;fontSize=16;" vertex="1" parent="1">
          <mxGeometry x="-71.25" y="570" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="iNa4zrH-shklfCCvgRkC-1" value="for following values&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;\(u = u_1, v = v_1\)&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;\(u = u_2, v = v_2\)&lt;/div&gt;&lt;div&gt;calc the \(chiSquare\)&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=left;verticalAlign=top;spacingLeft=2;spacingTop=0;spacing=8;" vertex="1" parent="1">
          <mxGeometry x="-1250" y="30" width="430" height="580" as="geometry" />
        </mxCell>
        <mxCell id="gvA98AlngaWd-yC3ij1r-1" value="$$\displaylines{&#xa;a = F_{0,0}*u+F_{1,0}*v+F_{2,0}&#xa;\\&#xa;b = F_{0,1}*u+F_{1,1}*v+F_{2,1}&#xa;\\&#xa;c = F_{0,2}*u+F_{1,2}*v+F_{2,2}&#xa;\\&#xa;n = a*u+b*v+c&#xa;\\&#xa;squareDist = \frac{n^2}{a^2+b^2}&#xa;\\&#xa;chiSquare = \frac{squareDist}{sigma^2}&#xa;}$$&#xa;in this program, \(sigma\) is always 1, then&#xa;\(chiSquare = squareDist\)" style="whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-1073.75" y="60" width="237.5" height="250" as="geometry" />
        </mxCell>
        <mxCell id="wG02hHU-KlCxFCataYoK-73" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="wG02hHU-KlCxFCataYoK-74" target="gvA98AlngaWd-yC3ij1r-1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-954.9999999999998" y="60" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RltPK8R4Vu-BiYlyBKiK-3" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="gvA98AlngaWd-yC3ij1r-1" target="RltPK8R4Vu-BiYlyBKiK-4">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-954.9999999999998" y="340" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RltPK8R4Vu-BiYlyBKiK-6" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="RltPK8R4Vu-BiYlyBKiK-4" target="RltPK8R4Vu-BiYlyBKiK-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RltPK8R4Vu-BiYlyBKiK-10" value="NO" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" connectable="0" vertex="1" parent="RltPK8R4Vu-BiYlyBKiK-6">
          <mxGeometry x="0.0424" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RltPK8R4Vu-BiYlyBKiK-8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="RltPK8R4Vu-BiYlyBKiK-4" target="RltPK8R4Vu-BiYlyBKiK-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RltPK8R4Vu-BiYlyBKiK-9" value="YES" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" connectable="0" vertex="1" parent="RltPK8R4Vu-BiYlyBKiK-8">
          <mxGeometry x="-0.7315" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RltPK8R4Vu-BiYlyBKiK-4" value="chiSquare &amp;gt; th(3.841)" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1047.5" y="340" width="185" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RltPK8R4Vu-BiYlyBKiK-13" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="RltPK8R4Vu-BiYlyBKiK-5" target="RltPK8R4Vu-BiYlyBKiK-11">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-955" y="650" />
              <mxPoint x="-955" y="650" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="RltPK8R4Vu-BiYlyBKiK-15" value="mark=true" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" connectable="0" vertex="1" parent="RltPK8R4Vu-BiYlyBKiK-13">
          <mxGeometry x="-0.2916" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RltPK8R4Vu-BiYlyBKiK-5" value="score +=&amp;nbsp;thScore(5.991) - chiSquare1" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1073.75" y="520" width="237.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="RltPK8R4Vu-BiYlyBKiK-12" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="RltPK8R4Vu-BiYlyBKiK-7" target="RltPK8R4Vu-BiYlyBKiK-11">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-1134" y="680" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="RltPK8R4Vu-BiYlyBKiK-14" value="mark=false" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" connectable="0" vertex="1" parent="RltPK8R4Vu-BiYlyBKiK-12">
          <mxGeometry x="0.3003" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RltPK8R4Vu-BiYlyBKiK-7" value="ignore this result" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1193.75" y="440" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="RltPK8R4Vu-BiYlyBKiK-11" value="&lt;font face=&quot;Concola&quot;&gt;更新 vbMatchesInliers&lt;/font&gt;&lt;div&gt;&lt;font face=&quot;Concola&quot;&gt;根据计算出的卡方值来标记(mark)每个匹配项是否为离群值&lt;/font&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1200" y="650" width="330" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="_Pb55MrTwu3IgO1WLSWn" name="Normalize">
    <mxGraphModel dx="1217" dy="591" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" background="none" math="1" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="mZkx6yTW-CHWbvIyqgQM-4" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" parent="1" source="mZkx6yTW-CHWbvIyqgQM-2" target="mZkx6yTW-CHWbvIyqgQM-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mZkx6yTW-CHWbvIyqgQM-2" value="const vector&amp;lt;cv::KeyPoint&amp;gt; &amp;amp;vKeys" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Concola;" parent="1" vertex="1">
          <mxGeometry x="10" y="10" width="450" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mZkx6yTW-CHWbvIyqgQM-6" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" parent="1" source="mZkx6yTW-CHWbvIyqgQM-3" target="mZkx6yTW-CHWbvIyqgQM-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mZkx6yTW-CHWbvIyqgQM-3" value="对vKeys里所有点的x坐标和y坐标取平均值meanX, meanY&#xa;$$\text{meanX} = \frac{\sum{\text{vKeys}_x}}{N},&#xa;\text{meanY} = \frac{\sum{\text{vKeys}_y}}{N}$$" style="fontFamily=Concola;rounded=0;whiteSpace=wrap;fontSize=12;spacing=2;spacingTop=11;" parent="1" vertex="1">
          <mxGeometry x="10" y="100" width="450" height="73" as="geometry" />
        </mxCell>
        <mxCell id="mZkx6yTW-CHWbvIyqgQM-8" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" parent="1" source="mZkx6yTW-CHWbvIyqgQM-5" target="mZkx6yTW-CHWbvIyqgQM-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mZkx6yTW-CHWbvIyqgQM-5" value="&lt;div&gt;&lt;span style=&quot;color: rgb(41, 44, 50); font-family: &amp;quot;Open Sans&amp;quot;, sans-serif; font-size: 14px; text-align: start; background-color: rgb(255, 255, 255);&quot;&gt;对每个点x,y坐标分别减去meanx, meanY&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(41, 44, 50); font-family: &amp;quot;Open Sans&amp;quot;, sans-serif; font-size: 14px; text-align: start; background-color: rgb(255, 255, 255);&quot;&gt;使归一化点集合的平均值(meanX,meanY)成为原点。&lt;/span&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;fontFamily=Concola;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="10" y="215" width="450" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mZkx6yTW-CHWbvIyqgQM-10" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" parent="1" source="mZkx6yTW-CHWbvIyqgQM-7" target="mZkx6yTW-CHWbvIyqgQM-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mZkx6yTW-CHWbvIyqgQM-7" value="计算平均偏差：以上一步变化后的坐标再次计算平均值meanDevX,meanDevY" style="whiteSpace=wrap;html=1;fontFamily=Concola;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="10" y="318" width="450" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mZkx6yTW-CHWbvIyqgQM-12" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="mZkx6yTW-CHWbvIyqgQM-9" target="mZkx6yTW-CHWbvIyqgQM-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mZkx6yTW-CHWbvIyqgQM-9" value="计算并应用缩放 point = point * scale&#xa;$$\text{scaleX}= \frac{1}{\text{meanDevX}}, \text{scaleY}= \frac{1}{\text{meanDevY}}$$" style="whiteSpace=wrap;fontFamily=Concola;rounded=0;spacingTop=8;" parent="1" vertex="1">
          <mxGeometry x="10" y="420" width="450" height="70" as="geometry" />
        </mxCell>
        <mxCell id="mZkx6yTW-CHWbvIyqgQM-11" value="输出 T, vNormalizedPoints&#xa;&#xa;vNormalizedPoints: 缩放之后的点集&#xa;$$T = \begin{bmatrix}&#xa;\text{scaleX} &amp; \text{scaleY} \\&#xa;-\text{meanX}*\text{scaleX} &amp; -\text{meanY}*\text{scaleY}&#xa;\end{bmatrix}$$" style="whiteSpace=wrap;fontFamily=Concola;rounded=0;align=center;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="500" y="170" width="320" height="150" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="O8Jef6Pc4tt7iKlTCyzc" name="ReconstructH">
    <mxGraphModel grid="1" page="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" pageScale="1" pageWidth="827" pageHeight="1169" math="1" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="rPjx0bcK7pu6R3S42xvP-1" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="rPjx0bcK7pu6R3S42xvP-2" target="rPjx0bcK7pu6R3S42xvP-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="rPjx0bcK7pu6R3S42xvP-2" value="ReconstructF" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="195" y="130" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="rPjx0bcK7pu6R3S42xvP-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="rPjx0bcK7pu6R3S42xvP-4" target="rPjx0bcK7pu6R3S42xvP-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="rPjx0bcK7pu6R3S42xvP-4" value="计算vbMatchesInliers中有多少次匹配 \(N\)" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="195" y="220" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="rPjx0bcK7pu6R3S42xvP-5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="rPjx0bcK7pu6R3S42xvP-6" target="rPjx0bcK7pu6R3S42xvP-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="rPjx0bcK7pu6R3S42xvP-6" value="have Matrix&amp;nbsp;&lt;br&gt;\(A = K^{-1} \cdot H_{21} \cdot K\)" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="130" y="310" width="250" height="60" as="geometry" />
        </mxCell>
        <mxCell id="juq9Ojs26Az7c6U4v94Y-2" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="rPjx0bcK7pu6R3S42xvP-8" target="juq9Ojs26Az7c6U4v94Y-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <UserObject label="use SVD to decompose from matrix \(A\)&lt;br&gt;\(A&amp;nbsp;= w \cdot U \cdot V^\intercal \)" id="rPjx0bcK7pu6R3S42xvP-8">
          <mxCell style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
            <mxGeometry x="110" y="410" width="290" height="60" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="Yw7ThWwjchKpkoAHLxOE-2" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="juq9Ojs26Az7c6U4v94Y-1" target="Yw7ThWwjchKpkoAHLxOE-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="juq9Ojs26Az7c6U4v94Y-1" value="$$&#xa;s = \lvert U \rvert * \lvert V^\intercal \rvert&#xa;$$" style="whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="195" y="500" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yw7ThWwjchKpkoAHLxOE-4" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="Yw7ThWwjchKpkoAHLxOE-1" target="Yw7ThWwjchKpkoAHLxOE-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yw7ThWwjchKpkoAHLxOE-7" value="True" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" connectable="0" vertex="1" parent="Yw7ThWwjchKpkoAHLxOE-4">
          <mxGeometry x="0.0419" y="3" relative="1" as="geometry">
            <mxPoint y="-2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Yw7ThWwjchKpkoAHLxOE-6" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="Yw7ThWwjchKpkoAHLxOE-1" target="Yw7ThWwjchKpkoAHLxOE-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yw7ThWwjchKpkoAHLxOE-8" value="False" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" connectable="0" vertex="1" parent="Yw7ThWwjchKpkoAHLxOE-6">
          <mxGeometry x="-0.377" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Yw7ThWwjchKpkoAHLxOE-1" value="$$\displaylines{&#xa;\frac{w_0}{w_1} &lt; 1.00001&#xa;\\&#xa;or&#xa;\\&#xa;\frac{w_1}{w_2}&lt;1.00001&#xa;&#xa;}$$" style="rhombus;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="102.5" y="585" width="305" height="150" as="geometry" />
        </mxCell>
        <mxCell id="Yw7ThWwjchKpkoAHLxOE-3" value="reject initialization" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-230" y="630" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yw7ThWwjchKpkoAHLxOE-5" value="return Tcw, Rcw, vP3D, vbTriangulated" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="47.5" y="820" width="415" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="xRt1bplJXugN3ES6nEs8" name="ReconstructF">
    <mxGraphModel grid="1" page="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" pageScale="1" pageWidth="827" pageHeight="1169" math="1" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="erbbIczSCS69HoX88cGx-1" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="erbbIczSCS69HoX88cGx-2" target="erbbIczSCS69HoX88cGx-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="erbbIczSCS69HoX88cGx-2" value="ReconstructF" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="195" y="40" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="erbbIczSCS69HoX88cGx-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="erbbIczSCS69HoX88cGx-4" target="erbbIczSCS69HoX88cGx-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="erbbIczSCS69HoX88cGx-4" value="计算vbMatchesInliers中有多少次匹配" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="195" y="220" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="erbbIczSCS69HoX88cGx-5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="erbbIczSCS69HoX88cGx-6" target="erbbIczSCS69HoX88cGx-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="erbbIczSCS69HoX88cGx-6" value="have Essential Matrix&amp;nbsp;&lt;br&gt;\(E_{21}&amp;nbsp;= K^{\intercal} \cdot F_{21} \cdot K\)" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="130" y="310" width="250" height="60" as="geometry" />
        </mxCell>
        <mxCell id="BNr7CWVOBTv4xwaUbcqm-2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="erbbIczSCS69HoX88cGx-7" target="BNr7CWVOBTv4xwaUbcqm-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <UserObject label="use SVD to decompose from essential matrix&lt;br&gt;\(E_{21} = R_1 \cdot R_2 \cdot t\)" link="data:page/id,op0kaio2xwq-lfJO24IH" id="erbbIczSCS69HoX88cGx-7">
          <mxCell style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
            <mxGeometry x="110" y="410" width="290" height="60" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="v49koNyJV3TSx1U9c9pl-2" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="BNr7CWVOBTv4xwaUbcqm-1" target="v49koNyJV3TSx1U9c9pl-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BNr7CWVOBTv4xwaUbcqm-1" value="weight\(_{1\dots 4}\) = CheckRT(\(1\dots4\))" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="110" y="510" width="290" height="30" as="geometry" />
        </mxCell>
        <mxCell id="v49koNyJV3TSx1U9c9pl-6" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="v49koNyJV3TSx1U9c9pl-1" target="v49koNyJV3TSx1U9c9pl-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="v49koNyJV3TSx1U9c9pl-1" value="maxGood = max{weight\(_1\),&amp;nbsp;&lt;span style=&quot;font-family: Helvetica; text-align: center;&quot;&gt;weight\(_{2\dots 4}\)&lt;/span&gt;}&lt;div&gt;nMinGood = min{\(\lfloor 0.9 * weight_{1\dots4} \rfloor\), minTraiangulated=50}&lt;br&gt;&lt;div&gt;nSimilar = count{&lt;span style=&quot;font-family: Helvetica; text-align: center;&quot;&gt;weight\(_{1\dots 4}\)&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&amp;gt; 0.7*nMaxGood&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;fontFamily=Concola;align=left;" vertex="1" parent="1">
          <mxGeometry x="58.75" y="570" width="392.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v49koNyJV3TSx1U9c9pl-8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="v49koNyJV3TSx1U9c9pl-5" target="v49koNyJV3TSx1U9c9pl-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="v49koNyJV3TSx1U9c9pl-9" value="&lt;font face=&quot;Concola&quot;&gt;True&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" connectable="0" vertex="1" parent="v49koNyJV3TSx1U9c9pl-8">
          <mxGeometry x="-0.0256" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="v49koNyJV3TSx1U9c9pl-11" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="v49koNyJV3TSx1U9c9pl-5" target="v49koNyJV3TSx1U9c9pl-14">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="254.99999999999977" y="830" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="v49koNyJV3TSx1U9c9pl-12" value="False" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;fontFamily=Concola;" connectable="0" vertex="1" parent="v49koNyJV3TSx1U9c9pl-11">
          <mxGeometry x="-0.0049" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="v49koNyJV3TSx1U9c9pl-5" value="maxGood &amp;lt;&amp;nbsp;&lt;span style=&quot;text-align: left;&quot;&gt;min{\(\lfloor 0.9 * weight_{1\dots4} \rfloor\), minTraiangulated=50}&lt;/span&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;or&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;nSimilar &amp;gt; 1&lt;/span&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;fontFamily=Concola;align=center;" vertex="1" parent="1">
          <mxGeometry x="2.5" y="680" width="505" height="160" as="geometry" />
        </mxCell>
        <mxCell id="v49koNyJV3TSx1U9c9pl-7" value="reject initialization." style="whiteSpace=wrap;html=1;fontFamily=Concola;" vertex="1" parent="1">
          <mxGeometry x="-140" y="1040" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v49koNyJV3TSx1U9c9pl-22" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="v49koNyJV3TSx1U9c9pl-14" target="v49koNyJV3TSx1U9c9pl-21">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="v49koNyJV3TSx1U9c9pl-14" value="maxGood is weightN" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="195" y="930" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v49koNyJV3TSx1U9c9pl-24" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="v49koNyJV3TSx1U9c9pl-21" target="v49koNyJV3TSx1U9c9pl-23">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="v49koNyJV3TSx1U9c9pl-28" value="True" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" connectable="0" vertex="1" parent="v49koNyJV3TSx1U9c9pl-24">
          <mxGeometry x="-0.0222" y="3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="v49koNyJV3TSx1U9c9pl-26" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="v49koNyJV3TSx1U9c9pl-21" target="v49koNyJV3TSx1U9c9pl-7">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="7.5" y="1069.9999999999998" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="v49koNyJV3TSx1U9c9pl-27" value="False" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" connectable="0" vertex="1" parent="v49koNyJV3TSx1U9c9pl-26">
          <mxGeometry x="0.2542" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="v49koNyJV3TSx1U9c9pl-21" value="parallaxN &amp;gt; minPallax(=1.0)" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="127.5" y="1030" width="255" height="80" as="geometry" />
        </mxCell>
        <mxCell id="v49koNyJV3TSx1U9c9pl-23" value="return Tcw, Rcw, vP3D, vbTriangulated" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="117.5" y="1190" width="275" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="跟踪流程" id="p1-DWD5toMyTFIu6jEiX">
    <mxGraphModel dx="1217" dy="591" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="YtjCKnjLjd_OU_10Bcr1-9" value="检查状态" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="40" y="40" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YtjCKnjLjd_OU_10Bcr1-13" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="YtjCKnjLjd_OU_10Bcr1-11" target="YtjCKnjLjd_OU_10Bcr1-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YtjCKnjLjd_OU_10Bcr1-11" value="使用第一帧创建mpInitializer&lt;br&gt;（当前帧，sigma=1，iterations=200)" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="135" y="250" width="310" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YtjCKnjLjd_OU_10Bcr1-15" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="YtjCKnjLjd_OU_10Bcr1-12" target="YtjCKnjLjd_OU_10Bcr1-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YtjCKnjLjd_OU_10Bcr1-12" value="使用第二帧尝试初始化" style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="152.5" y="350" width="275" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YtjCKnjLjd_OU_10Bcr1-17" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="YtjCKnjLjd_OU_10Bcr1-14" target="YtjCKnjLjd_OU_10Bcr1-16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YtjCKnjLjd_OU_10Bcr1-14" value="创建了一个ORBMatcher name=matcher&lt;br&gt;（最优/次优权重=0.9，检查旋转=true)" style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="127.5" y="460" width="325" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YtjCKnjLjd_OU_10Bcr1-19" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="YtjCKnjLjd_OU_10Bcr1-16" target="YtjCKnjLjd_OU_10Bcr1-18" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <UserObject label="使用matcher查找可以用于初始化的关键点" link="data:page/id,Zna1pg1syEr-Q3HothQa" id="YtjCKnjLjd_OU_10Bcr1-16">
          <mxCell style="whiteSpace=wrap;html=1;rounded=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
            <mxGeometry x="138.75" y="555" width="302.5" height="60" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="YtjCKnjLjd_OU_10Bcr1-21" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="YtjCKnjLjd_OU_10Bcr1-18" target="xbPuF-IwixxyBWbBhR-Y-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="290" y="855" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YtjCKnjLjd_OU_10Bcr1-22" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="YtjCKnjLjd_OU_10Bcr1-21" vertex="1" connectable="0">
          <mxGeometry relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YtjCKnjLjd_OU_10Bcr1-24" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="YtjCKnjLjd_OU_10Bcr1-18" target="YtjCKnjLjd_OU_10Bcr1-23" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="235" y="725" />
              <mxPoint x="235" y="725" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="xbPuF-IwixxyBWbBhR-Y-9" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="YtjCKnjLjd_OU_10Bcr1-24" vertex="1" connectable="0">
          <mxGeometry x="-0.0593" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YtjCKnjLjd_OU_10Bcr1-18" value="数量&amp;lt;100" style="rhombus;whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="250" y="685" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="YtjCKnjLjd_OU_10Bcr1-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="YtjCKnjLjd_OU_10Bcr1-23" target="YtjCKnjLjd_OU_10Bcr1-11" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="105" y="695" />
              <mxPoint x="105" y="280" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="YtjCKnjLjd_OU_10Bcr1-23" value="初始化失败" style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="45" y="695" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xbPuF-IwixxyBWbBhR-Y-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="xbPuF-IwixxyBWbBhR-Y-1" target="xbPuF-IwixxyBWbBhR-Y-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xbPuF-IwixxyBWbBhR-Y-4" value="成功" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="xbPuF-IwixxyBWbBhR-Y-3" vertex="1" connectable="0">
          <mxGeometry x="-0.0547" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xbPuF-IwixxyBWbBhR-Y-6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="xbPuF-IwixxyBWbBhR-Y-1" target="xbPuF-IwixxyBWbBhR-Y-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xbPuF-IwixxyBWbBhR-Y-7" value="失败" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="xbPuF-IwixxyBWbBhR-Y-6" vertex="1" connectable="0">
          <mxGeometry x="-0.4289" y="-2" relative="1" as="geometry">
            <mxPoint y="-8" as="offset" />
          </mxGeometry>
        </mxCell>
        <UserObject label="使用参数进行初始化" link="data:page/id,GgXZyBEcIRX4ej0pfAU6" id="xbPuF-IwixxyBWbBhR-Y-1">
          <mxCell style="rhombus;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
            <mxGeometry x="216.25" y="830" width="147.5" height="80" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="B7bD2lZskAKAB8YSfNVL-2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="xbPuF-IwixxyBWbBhR-Y-2" target="B7bD2lZskAKAB8YSfNVL-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xbPuF-IwixxyBWbBhR-Y-2" value="剔除三角化中未使用的点" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="177.5" y="980" width="225" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xbPuF-IwixxyBWbBhR-Y-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="xbPuF-IwixxyBWbBhR-Y-5" target="YtjCKnjLjd_OU_10Bcr1-23" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xbPuF-IwixxyBWbBhR-Y-5" value="（源程序中未作处理）" style="whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="40" y="840" width="130" height="60" as="geometry" />
        </mxCell>
        <mxCell id="B7bD2lZskAKAB8YSfNVL-1" value="设置第一帧为初始姿态并建立坐标系变换矩阵" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="151.25" y="1075" width="277.5" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="op0kaio2xwq-lfJO24IH" name="DecomposeE">
    <mxGraphModel dx="977" dy="591" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="1" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="FPOp3tbmgzME4Lvn4pJE-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="FPOp3tbmgzME4Lvn4pJE-1" target="FPOp3tbmgzME4Lvn4pJE-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FPOp3tbmgzME4Lvn4pJE-1" value="matrix \(E\)" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="210" y="100" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yKYJOhNlwV8uPHmXmz2k-2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="FPOp3tbmgzME4Lvn4pJE-2" target="yKYJOhNlwV8uPHmXmz2k-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yKYJOhNlwV8uPHmXmz2k-4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="FPOp3tbmgzME4Lvn4pJE-2" target="yKYJOhNlwV8uPHmXmz2k-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FPOp3tbmgzME4Lvn4pJE-2" value="SVD Decompose&lt;br&gt;\(E=w \cdot u \cdot v^\intercal \)" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="210" y="240" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yKYJOhNlwV8uPHmXmz2k-1" value="extract col 3 and norm from \(u\)&lt;br&gt;as returning \(t\)" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="380" y="910" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yKYJOhNlwV8uPHmXmz2k-6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="yKYJOhNlwV8uPHmXmz2k-3" target="yKYJOhNlwV8uPHmXmz2k-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yKYJOhNlwV8uPHmXmz2k-3" value="have matrix&lt;br&gt;$$W=\begin{bmatrix}&lt;br&gt;-1 &amp;amp; 0 &amp;amp; 0 \\&lt;br&gt;0 &amp;amp; 1 &amp;amp; 0 \\&lt;br&gt;0 &amp;amp; 0 &amp;amp; 1&lt;br&gt;\end{bmatrix}$$" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="195" y="360" width="150" height="100" as="geometry" />
        </mxCell>
        <mxCell id="yKYJOhNlwV8uPHmXmz2k-13" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="yKYJOhNlwV8uPHmXmz2k-5" target="yKYJOhNlwV8uPHmXmz2k-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yKYJOhNlwV8uPHmXmz2k-5" value="$$\displaylines{&lt;br&gt;R_1=u \cdot W \cdot v^\intercal &lt;br&gt;\\&lt;br&gt;R_2 = u \cdot W^\intercal \cdot v^\intercal&lt;br&gt;}$$" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="210" y="540" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yKYJOhNlwV8uPHmXmz2k-15" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="yKYJOhNlwV8uPHmXmz2k-12" target="yKYJOhNlwV8uPHmXmz2k-14">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yKYJOhNlwV8uPHmXmz2k-17" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="yKYJOhNlwV8uPHmXmz2k-12" target="yKYJOhNlwV8uPHmXmz2k-16">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yKYJOhNlwV8uPHmXmz2k-12" value="\(|R_x| &amp;lt; 0\)" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="195" y="640" width="150" height="80" as="geometry" />
        </mxCell>
        <mxCell id="yKYJOhNlwV8uPHmXmz2k-19" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="yKYJOhNlwV8uPHmXmz2k-14" target="yKYJOhNlwV8uPHmXmz2k-18">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yKYJOhNlwV8uPHmXmz2k-14" value="return \(-R_x\)" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="210" y="810" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yKYJOhNlwV8uPHmXmz2k-20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="yKYJOhNlwV8uPHmXmz2k-16" target="yKYJOhNlwV8uPHmXmz2k-18">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="110" y="940" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="yKYJOhNlwV8uPHmXmz2k-16" value="return \(R_x\)" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="50" y="810" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yKYJOhNlwV8uPHmXmz2k-18" value="return corresponding \(R_1, R_2\)" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="210" y="910" width="120" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="JOuFiT1HY4bsatLjK8Ut" name="CheckRT">
    <mxGraphModel grid="1" page="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" pageScale="1" pageWidth="827" pageHeight="1169" math="1" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="5-PJBiu_rjh-gX6-HxS2-3" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="5-PJBiu_rjh-gX6-HxS2-1" target="5-PJBiu_rjh-gX6-HxS2-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5-PJBiu_rjh-gX6-HxS2-1" value="从内参矩阵\(K\)提取焦距 \((fx,fy)\) 和主点 \((c_x,c_y)\)&lt;br&gt;$$&lt;br&gt;\begin{bmatrix}&lt;br&gt;f_x &amp;amp;&amp;nbsp; &amp;amp; c_x \\&lt;br&gt;&amp;nbsp;&amp;amp; f_y &amp;amp; c_y&lt;br&gt;\end{bmatrix}&lt;br&gt;=K&lt;br&gt;$$" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="280" y="60" width="267" height="110" as="geometry" />
        </mxCell>
        <mxCell id="gsgOg2CIFGHb6s6lrd_Z-2" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="5-PJBiu_rjh-gX6-HxS2-2" target="gsgOg2CIFGHb6s6lrd_Z-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5-PJBiu_rjh-gX6-HxS2-2" value="初始化一些矩阵来存储数据&lt;br&gt;vP3d 三维点&lt;br&gt;vbGood 有效的点&lt;br&gt;vCosParallax 视差角" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="325.5" y="220" width="176" height="100" as="geometry" />
        </mxCell>
        <mxCell id="gsgOg2CIFGHb6s6lrd_Z-4" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="gsgOg2CIFGHb6s6lrd_Z-1" target="gsgOg2CIFGHb6s6lrd_Z-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="gsgOg2CIFGHb6s6lrd_Z-1" value="从内参矩阵K分别创建相机1和2的投影矩阵\(P_1\)和\(P_2\)&#xa;$$\displaylines{&#xa;P1 = \begin{bmatrix}&#xa;K_{11} &amp; K_{12} &amp; K_{13} &amp; 0 \\&#xa;K_{21} &amp; K_{22} &amp; K_{23} &amp; 0 \\&#xa;K_{31} &amp; K_{32} &amp; K_{33} &amp; 0 \\\end{bmatrix}&#xa;\\&#xa;\\&#xa;P2 = K \cdot \begin{bmatrix}&#xa;R_{11} &amp; R_{12} &amp; R_{13} &amp; t_{1} \\&#xa;R_{21} &amp; R_{22} &amp; R_{23} &amp; t_{2} \\&#xa;R_{31} &amp; R_{32} &amp; R_{33} &amp; t_{3} \\&#xa;\end{bmatrix}&#xa;}$$" style="whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="264.5" y="380" width="299" height="190" as="geometry" />
        </mxCell>
        <mxCell id="gFNNIe0P4chy678KKcrl-2" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="gsgOg2CIFGHb6s6lrd_Z-3" target="gFNNIe0P4chy678KKcrl-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="gsgOg2CIFGHb6s6lrd_Z-3" value="have \( O_1 \text{and} O_2 \)&#xa;&#xa;$$\displaylines{&#xa;O_1=\begin{bmatrix}&#xa;0 \\&#xa;0 \\&#xa;0 \\&#xa;\end{bmatrix}&#xa;\\&#xa;O_2 = -R^\intercal\cdot t&#xa;}$$" style="whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="323.5" y="620" width="180" height="160" as="geometry" />
        </mxCell>
        <mxCell id="F92mXHJHUyHcetu_RIAW-4" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="gFNNIe0P4chy678KKcrl-1" target="F92mXHJHUyHcetu_RIAW-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="gFNNIe0P4chy678KKcrl-1" value="检查每一对匹配的关键点&lt;div&gt;nGood&lt;/div&gt;" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="325.75" y="820" width="176.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="gFNNIe0P4chy678KKcrl-6" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="gFNNIe0P4chy678KKcrl-4" target="gFNNIe0P4chy678KKcrl-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="gFNNIe0P4chy678KKcrl-4" value="检查每一对匹配的关键点\(i\)" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-300" y="60" width="176.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RhSvO3A8sQb5Co3H1yaf-2" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="gFNNIe0P4chy678KKcrl-5" target="RhSvO3A8sQb5Co3H1yaf-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <UserObject label="使用相机参数三角化该关键点对&lt;div&gt;p3dC1 =&amp;nbsp;Triangulate(kp1, kp2, P1, P2)&lt;/div&gt;" link="data:page/id,EWThQRzR5tXEp5PWThYO" id="gFNNIe0P4chy678KKcrl-5">
          <mxCell style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
            <mxGeometry x="-382.18" y="170" width="340.87" height="60" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="RhSvO3A8sQb5Co3H1yaf-4" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="RhSvO3A8sQb5Co3H1yaf-1" target="RhSvO3A8sQb5Co3H1yaf-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhSvO3A8sQb5Co3H1yaf-7" value="True" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" connectable="0" vertex="1" parent="RhSvO3A8sQb5Co3H1yaf-4">
          <mxGeometry x="-0.1778" y="2" relative="1" as="geometry">
            <mxPoint y="-2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RhSvO3A8sQb5Co3H1yaf-9" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="RhSvO3A8sQb5Co3H1yaf-1" target="RhSvO3A8sQb5Co3H1yaf-11">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-211.745" y="430" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RhSvO3A8sQb5Co3H1yaf-10" value="else" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" connectable="0" vertex="1" parent="RhSvO3A8sQb5Co3H1yaf-9">
          <mxGeometry x="-0.2334" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RhSvO3A8sQb5Co3H1yaf-1" value="&lt;span style=&quot;background-color: initial;&quot;&gt;any of \(\text{p3dC1}_{0 \dots 2} = \infty\)&lt;/span&gt;" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-327.62" y="270" width="231.75" height="80" as="geometry" />
        </mxCell>
        <mxCell id="RhSvO3A8sQb5Co3H1yaf-3" value="vbGood\(_i\) = False&lt;div&gt;continue;&lt;/div&gt;" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-549.995" y="280" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RhSvO3A8sQb5Co3H1yaf-12" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;strokeColor=default;endArrow=none;endFill=0;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-390" y="380" as="sourcePoint" />
            <mxPoint x="-71.74" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="6ipRC7JurmwEqC2ifZKo-1" value="&lt;span style=&quot;text-wrap: wrap; background-color: rgb(251, 251, 251);&quot;&gt;check parallax&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" connectable="0" vertex="1" parent="RhSvO3A8sQb5Co3H1yaf-12">
          <mxGeometry x="-0.743" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OeHqRhkbiEUxyto6bsW--2" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="RhSvO3A8sQb5Co3H1yaf-11" target="OeHqRhkbiEUxyto6bsW--1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhSvO3A8sQb5Co3H1yaf-11" value="$$\displaylines{&#xa;n_1=\text{p3dC1}-O_2,d_1= \lVert n_1 \rVert&#xa;\\&#xa;n_2= \text{p3dC1} - O_2,d_2=\lVert n_2 \rVert&#xa;&#xa;}$$" style="whiteSpace=wrap;glass=0;" vertex="1" parent="1">
          <mxGeometry x="-337.62" y="410" width="251.75" height="60" as="geometry" />
        </mxCell>
        <mxCell id="6ipRC7JurmwEqC2ifZKo-3" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="OeHqRhkbiEUxyto6bsW--1" target="6ipRC7JurmwEqC2ifZKo-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="OeHqRhkbiEUxyto6bsW--1" value="$$&#xa;\cos(\text{parallax}) = \frac{n_1 \cdot n_2}{d_1 * d_2}&#xa;&#xa;$$" style="whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-385.87" y="500" width="348.26" height="60" as="geometry" />
        </mxCell>
        <mxCell id="6ipRC7JurmwEqC2ifZKo-5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="6ipRC7JurmwEqC2ifZKo-2" target="6ipRC7JurmwEqC2ifZKo-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6ipRC7JurmwEqC2ifZKo-12" value="True" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" connectable="0" vertex="1" parent="6ipRC7JurmwEqC2ifZKo-5">
          <mxGeometry x="0.0721" y="1" relative="1" as="geometry">
            <mxPoint x="99" y="-236" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="6ipRC7JurmwEqC2ifZKo-7" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="6ipRC7JurmwEqC2ifZKo-2" target="6ipRC7JurmwEqC2ifZKo-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6ipRC7JurmwEqC2ifZKo-13" value="False" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" connectable="0" vertex="1" parent="6ipRC7JurmwEqC2ifZKo-7">
          <mxGeometry x="-0.0083" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="6ipRC7JurmwEqC2ifZKo-2" value="p3dC1[2] &amp;lt;=0&lt;div&gt;and&lt;/div&gt;&lt;div&gt;cos parallax &amp;lt; 0.99998&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-365.88" y="600" width="308.26" height="80" as="geometry" />
        </mxCell>
        <mxCell id="6ipRC7JurmwEqC2ifZKo-4" value="skip this iteration" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-610" y="1230" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="6ipRC7JurmwEqC2ifZKo-9" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="6ipRC7JurmwEqC2ifZKo-6" target="6ipRC7JurmwEqC2ifZKo-10">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-211.75" y="890" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="6ipRC7JurmwEqC2ifZKo-6" value="p3dC2 = \(R \cdot \text{p3dC1} + t\)" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-288.81" y="740" width="154.12" height="40" as="geometry" />
        </mxCell>
        <mxCell id="6ipRC7JurmwEqC2ifZKo-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="6ipRC7JurmwEqC2ifZKo-10" target="6ipRC7JurmwEqC2ifZKo-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6ipRC7JurmwEqC2ifZKo-15" value="True" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" connectable="0" vertex="1" parent="6ipRC7JurmwEqC2ifZKo-14">
          <mxGeometry x="-0.1098" y="-2" relative="1" as="geometry">
            <mxPoint x="102" y="-53" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="6ipRC7JurmwEqC2ifZKo-17" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="6ipRC7JurmwEqC2ifZKo-10" target="6ipRC7JurmwEqC2ifZKo-16">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6ipRC7JurmwEqC2ifZKo-18" value="False" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" connectable="0" vertex="1" parent="6ipRC7JurmwEqC2ifZKo-17">
          <mxGeometry x="-0.491" y="3" relative="1" as="geometry">
            <mxPoint y="13" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="6ipRC7JurmwEqC2ifZKo-10" value="p3dC2[2] &amp;lt;=0&lt;div&gt;and&lt;/div&gt;&lt;div&gt;cos parallax &amp;lt; 0.99998&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-365.88" y="850" width="308.26" height="80" as="geometry" />
        </mxCell>
        <mxCell id="6ipRC7JurmwEqC2ifZKo-11" value="Check depth in front of camera&lt;div&gt;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;only if enough parallax&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;as &quot;infinite&quot; points can easily go to negative depth&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#6c8ebf;fillColor=#dae8fc;fontSize=16;" vertex="1" parent="1">
          <mxGeometry x="-134.69" y="570" width="370" height="70" as="geometry" />
        </mxCell>
        <mxCell id="6ipRC7JurmwEqC2ifZKo-23" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="6ipRC7JurmwEqC2ifZKo-16" target="6ipRC7JurmwEqC2ifZKo-22">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6ipRC7JurmwEqC2ifZKo-16" value="$$\displaylines{&#xa;\text{im}_x = \frac{f_x * \text{p3d}_x}{\text{p3d}_z}+c_x&#xa;\\&#xa;\text{im}_y = \frac{f_x * \text{p3d}_y}{\text{p3d}_z}+c_y&#xa;\\&#xa;E^2 = (\text{im}_x - \text{kp}_x)^2 + (\text{im}_y - \text{kp}_y)^2 &#xa;}$$" style="whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-385.88" y="1000" width="348.25" height="140" as="geometry" />
        </mxCell>
        <mxCell id="6ipRC7JurmwEqC2ifZKo-19" value="p3D = \(\begin{bmatrix} x &amp;amp; y &amp;amp; z \end{bmatrix}\)&lt;div&gt;&lt;br&gt;\(\begin{bmatrix}&lt;br&gt;f_x &amp;amp;&amp;nbsp; &amp;amp; c_x \\&lt;br&gt;&amp;nbsp;&amp;amp; f_y &amp;amp; c_y&lt;br&gt;\end{bmatrix}&lt;br&gt;=K\)&lt;br&gt;&lt;/div&gt;" style="text;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#6c8ebf;fillColor=#dae8fc;fontSize=16;html=1;" vertex="1" parent="1">
          <mxGeometry x="-123.5" y="790" width="360" height="150" as="geometry" />
        </mxCell>
        <mxCell id="6ipRC7JurmwEqC2ifZKo-25" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="6ipRC7JurmwEqC2ifZKo-22" target="6ipRC7JurmwEqC2ifZKo-4">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-351.7549999999999" y="1260" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HnLPGg3M8YSTUoqh0b83-5" value="True" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" connectable="0" vertex="1" parent="6ipRC7JurmwEqC2ifZKo-25">
          <mxGeometry x="-0.2192" y="-3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HnLPGg3M8YSTUoqh0b83-2" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="6ipRC7JurmwEqC2ifZKo-22" target="HnLPGg3M8YSTUoqh0b83-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HnLPGg3M8YSTUoqh0b83-6" value="False" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" connectable="0" vertex="1" parent="HnLPGg3M8YSTUoqh0b83-2">
          <mxGeometry x="-0.1" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="6ipRC7JurmwEqC2ifZKo-22" value="$$&#xa;E^2 &gt; th^2&#xa;$$" style="rhombus;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-251.755" y="1220" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="6ipRC7JurmwEqC2ifZKo-26" value="th\(^2\) = 2 * sigma \(^2\)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#6c8ebf;fillColor=#dae8fc;fontSize=16;" vertex="1" parent="1">
          <mxGeometry x="-171.76" y="1210" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HnLPGg3M8YSTUoqh0b83-4" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="HnLPGg3M8YSTUoqh0b83-1" target="HnLPGg3M8YSTUoqh0b83-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HnLPGg3M8YSTUoqh0b83-1" value="save \(\cos{parallax}\) to vCosParallax&lt;div&gt;vP3D[location of kp1] = \(\begin{bmatrix} \text{p3d}_x, \text{p3d}_y, \text{p3d}_z \end{bmatrix}\)&lt;/div&gt;&lt;div&gt;nGood++&lt;/div&gt;" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-339.42" y="1380" width="255.32" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HnLPGg3M8YSTUoqh0b83-3" value="&lt;div&gt;if(cosParallax&amp;lt;0.99998)&lt;/div&gt;&lt;div&gt;vbGood[location of kp1]=true&lt;/div&gt;" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-320.44" y="1480" width="217.36" height="60" as="geometry" />
        </mxCell>
        <mxCell id="F92mXHJHUyHcetu_RIAW-6" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="F92mXHJHUyHcetu_RIAW-3" target="F92mXHJHUyHcetu_RIAW-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="F92mXHJHUyHcetu_RIAW-7" value="else" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" connectable="0" vertex="1" parent="F92mXHJHUyHcetu_RIAW-6">
          <mxGeometry x="-0.3177" y="3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="F92mXHJHUyHcetu_RIAW-9" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="F92mXHJHUyHcetu_RIAW-3" target="F92mXHJHUyHcetu_RIAW-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="F92mXHJHUyHcetu_RIAW-10" value="True" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" connectable="0" vertex="1" parent="F92mXHJHUyHcetu_RIAW-9">
          <mxGeometry x="-0.2014" y="2" relative="1" as="geometry">
            <mxPoint y="-2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="F92mXHJHUyHcetu_RIAW-3" value="nGood&amp;gt;0" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="374" y="920" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="F92mXHJHUyHcetu_RIAW-5" value="parallax = 0" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="570" y="930" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="F92mXHJHUyHcetu_RIAW-8" value="parallax = \( \frac{\arccos(\text{vCosParallax}[\text{last or 50}]) * 100}{\pi}\)" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="256" y="1090" width="316" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="EWThQRzR5tXEp5PWThYO" name="Triangulate">
    <mxGraphModel grid="1" page="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" pageScale="1" pageWidth="827" pageHeight="1169" math="1" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="wMq2jNzNTGAq888InR1D-3" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="wMq2jNzNTGAq888InR1D-1" target="wMq2jNzNTGAq888InR1D-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wMq2jNzNTGAq888InR1D-1" value="$$ A = \begin{bmatrix}&#xa;x_1 \cdot p_{13} - p_{11} &amp; x_1 \cdot p_{23} - p_{12} &amp; x_1 \cdot p_{33} - p_{13} &amp; x_1 \cdot p_{34} - p_{14} \\&#xa;y_1 \cdot p_{13} - p_{21} &amp; y_1 \cdot p_{23} - p_{22} &amp; y_1 \cdot p_{33} - p_{23} &amp; y_1 \cdot p_{34} - p_{24} \\&#xa;x_2 \cdot p_{23} - p_{11}&#39; &amp; x_2 \cdot p_{23} - p_{12}&#39; &amp; x_2 \cdot p_{33} - p_{13}&#39; &amp; x_2 \cdot p_{34} - p_{14}&#39; \\&#xa;y_2 \cdot p_{13} - p_{21}&#39; &amp; y_2 \cdot p_{23} - p_{22}&#39; &amp; y_2 \cdot p_{33} - p_{23}&#39; &amp; y_2 \cdot p_{34} - p_{24}&#39; \\\end{bmatrix} $$" style="whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="204" y="30" width="419" height="130" as="geometry" />
        </mxCell>
        <mxCell id="wMq2jNzNTGAq888InR1D-5" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="wMq2jNzNTGAq888InR1D-2" target="wMq2jNzNTGAq888InR1D-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wMq2jNzNTGAq888InR1D-2" value="SVD decompose&lt;div&gt;\(A = w \cdot u \cdot v^\intercal \)&lt;/div&gt;" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="354" y="200" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="wMq2jNzNTGAq888InR1D-4" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; x3D = vt.row(3).t();&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; x3D = x3D.rowRange(0,3)/x3D.at&amp;lt;float&amp;gt;(3);&lt;/div&gt;" style="whiteSpace=wrap;html=1;fontFamily=Concola;align=left;" vertex="1" parent="1">
          <mxGeometry x="182" y="310" width="464" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
